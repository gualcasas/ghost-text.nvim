'use strict';

var http = require('http');

var Ap=Object.create;var Ir=Object.defineProperty;var Rp=Object.getOwnPropertyDescriptor;var Pp=Object.getOwnPropertyNames;var Np=Object.getPrototypeOf,Cp=Object.prototype.hasOwnProperty;var y=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var B=(t,e)=>()=>(t&&(e=t(t=0)),e);var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),co=(t,e)=>{for(var r in e)Ir(t,r,{get:e[r],enumerable:!0});},ho=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Pp(e))!Cp.call(t,i)&&i!==r&&Ir(t,i,{get:()=>e[i],enumerable:!(n=Rp(e,i))||n.enumerable});return t};var ht=(t,e,r)=>(r=t!=null?Ap(Np(t)):{},ho(e||!t||!t.__esModule?Ir(r,"default",{value:t,enumerable:!0}):r,t)),po=t=>ho(Ir({},"__esModule",{value:!0}),t);function go(t,e,r){var n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i);}function kr(t,e,r){var n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i);}function Dr(t,e){var r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function mo(t,e){var r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}var be,Bt=B(()=>{be=4294967295;});function Li(t){for(var e=t.length,r=0,n=0;n<e;){var i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else {if(i>=55296&&i<=56319&&n<e){var s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536);}i&4294901760?r+=4:r+=3;}else {r++;continue}}return r}function vo(t,e,r){for(var n=t.length,i=r,s=0;s<n;){var a=t.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else {if(a>=55296&&a<=56319&&s<n){var o=t.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536);}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128);}else {e[i++]=a;continue}e[i++]=a&63|128;}}function Lp(t,e,r){e.set(Ft.encode(t),r);}function Ip(t,e,r){Ft.encodeInto(t,e.subarray(r));}function Ur(t,e,r){for(var n=e,i=n+r,s=[],a="";n<i;){var o=t[n++];if(!(o&128))s.push(o);else if((o&224)===192){var l=t[n++]&63;s.push((o&31)<<6|l);}else if((o&240)===224){var l=t[n++]&63,u=t[n++]&63;s.push((o&31)<<12|l<<6|u);}else if((o&248)===240){var l=t[n++]&63,u=t[n++]&63,f=t[n++]&63,h=(o&7)<<18|l<<12|u<<6|f;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h);}else s.push(o);s.length>=kp&&(a+=String.fromCharCode.apply(String,s),s.length=0);}return s.length>0&&(a+=String.fromCharCode.apply(String,s)),a}function bo(t,e,r){var n=t.subarray(e,e+r);return Dp.decode(n)}var Pi,Ni,Ci,$r,Ft,yo,_o,kp,Dp,wo,Br=B(()=>{Bt();$r=(typeof process>"u"||((Pi=process==null?void 0:process.env)===null||Pi===void 0?void 0:Pi.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";Ft=$r?new TextEncoder:void 0,yo=$r?typeof process<"u"&&((Ni=process==null?void 0:process.env)===null||Ni===void 0?void 0:Ni.TEXT_ENCODING)!=="force"?200:0:be;_o=Ft?.encodeInto?Ip:Lp,kp=4096;Dp=$r?new TextDecoder:null,wo=$r?typeof process<"u"&&((Ci=process==null?void 0:process.env)===null||Ci===void 0?void 0:Ci.TEXT_DECODER)!=="force"?200:0:be;});var He,Ii=B(()=>{He=function(){function t(e,r){this.type=e,this.data=r;}return t}();});var $p,Y,Fr=B(()=>{$p=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i;}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s]);},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e;}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n);}}(),Y=function(t){$p(e,t);function e(r){var n=t.call(this,r)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:e.name}),n}return e}(Error);});function Di(t){var e=t.sec,r=t.nsec;if(e>=0&&r>=0&&e<=Bp)if(r===0&&e<=Up){var n=new Uint8Array(4),i=new DataView(n.buffer);return i.setUint32(0,e),n}else {var s=e/4294967296,a=e&4294967295,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,r<<2|s&3),i.setUint32(4,a),n}else {var n=new Uint8Array(12),i=new DataView(n.buffer);return i.setUint32(0,r),kr(i,4,e),n}}function $i(t){var e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return {sec:r+i,nsec:n-i*1e9}}function Ui(t){if(t instanceof Date){var e=$i(t);return Di(e)}else return null}function Bi(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var r=e.getUint32(0),n=0;return {sec:r,nsec:n}}case 8:{var i=e.getUint32(0),s=e.getUint32(4),r=(i&3)*4294967296+s,n=i>>>2;return {sec:r,nsec:n}}case 12:{var r=Dr(e,4),n=e.getUint32(0);return {sec:r,nsec:n}}default:throw new Y("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function Fi(t){var e=Bi(t);return new Date(e.sec*1e3+e.nsec/1e6)}var ki,Up,Bp,xo,ji=B(()=>{Fr();Bt();ki=-1,Up=4294967296-1,Bp=17179869184-1;xo={type:ki,encode:Ui,decode:Fi};});var dt,jr=B(()=>{Ii();ji();dt=function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(xo);}return t.prototype.register=function(e){var r=e.type,n=e.encode,i=e.decode;if(r>=0)this.encoders[r]=n,this.decoders[r]=i;else {var s=1+r;this.builtInEncoders[s]=n,this.builtInDecoders[s]=i;}},t.prototype.tryToEncode=function(e,r){for(var n=0;n<this.builtInEncoders.length;n++){var i=this.builtInEncoders[n];if(i!=null){var s=i(e,r);if(s!=null){var a=-1-n;return new He(a,s)}}}for(var n=0;n<this.encoders.length;n++){var i=this.encoders[n];if(i!=null){var s=i(e,r);if(s!=null){var a=n;return new He(a,s)}}}return e instanceof He?e:null},t.prototype.decode=function(e,r,n){var i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new He(r,e)},t.defaultCodec=new t,t}();});function pt(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function Eo(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=pt(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var Wi=B(()=>{});var Fp,jp,Wr,Vi=B(()=>{Br();jr();Bt();Wi();Fp=100,jp=2048,Wr=function(){function t(e,r,n,i,s,a,o,l){e===void 0&&(e=dt.defaultCodec),r===void 0&&(r=void 0),n===void 0&&(n=Fp),i===void 0&&(i=jp),s===void 0&&(s=!1),a===void 0&&(a=!1),o===void 0&&(o=!1),l===void 0&&(l=!1),this.extensionCodec=e,this.context=r,this.maxDepth=n,this.initialBufferSize=i,this.sortKeys=s,this.forceFloat32=a,this.ignoreUndefined=o,this.forceIntegerToFloat=l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer);}return t.prototype.reinitializeState=function(){this.pos=0;},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,r){if(r>this.maxDepth)throw new Error("Too deep objects in depth ".concat(r));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,r);},t.prototype.ensureBufferSizeToWrite=function(e){var r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2);},t.prototype.resizeBuffer=function(e){var r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n;},t.prototype.encodeNil=function(){this.writeU8(192);},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195);},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e));},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var r=5,n=e.length;if(n>yo){var i=Li(e);this.ensureBufferSizeToWrite(r+i),this.writeStringHeader(i),_o(e,this.bytes,this.pos),this.pos+=i;}else {var i=Li(e);this.ensureBufferSizeToWrite(r+i),this.writeStringHeader(i),vo(e,this.bytes,this.pos),this.pos+=i;}},t.prototype.encodeObject=function(e,r){var n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error("Too large binary: ".concat(r));var n=pt(e);this.writeU8a(n);},t.prototype.encodeArray=function(e,r){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error("Too large array: ".concat(n));for(var i=0,s=e;i<s.length;i++){var a=s[i];this.doEncode(a,r+1);}},t.prototype.countWithoutUndefined=function(e,r){for(var n=0,i=0,s=r;i<s.length;i++){var a=s[i];e[a]!==void 0&&n++;}return n},t.prototype.encodeMap=function(e,r){var n=Object.keys(e);this.sortKeys&&n.sort();var i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var s=0,a=n;s<a.length;s++){var o=a[s],l=e[o];this.ignoreUndefined&&l===void 0||(this.encodeString(o),this.doEncode(l,r+1));}},t.prototype.encodeExtension=function(e){var r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error("Too large extension object: ".concat(r));this.writeI8(e.type),this.writeU8a(e.data);},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++;},t.prototype.writeU8a=function(e){var r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r;},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++;},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2;},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2;},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4;},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4;},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4;},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8;},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),go(this.view,this.pos,e),this.pos+=8;},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),kr(this.view,this.pos,e),this.pos+=8;},t}();});function So(t,e){e===void 0&&(e=Wp);var r=new Wr(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat);return r.encodeSharedRef(t)}var Wp,Oo=B(()=>{Vi();Wp={};});function Vr(t){return "".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var Mo=B(()=>{});var Vp,zp,To,qo=B(()=>{Br();Vp=16,zp=16,To=function(){function t(e,r){e===void 0&&(e=Vp),r===void 0&&(r=zp),this.maxKeyLength=e,this.maxLengthPerKey=r,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([]);}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,r,n){var i=this.caches[n-1];e:for(var s=0,a=i;s<a.length;s++){for(var o=a[s],l=o.bytes,u=0;u<n;u++)if(l[u]!==e[r+u])continue e;return o.str}return null},t.prototype.store=function(e,r){var n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i);},t.prototype.decode=function(e,r,n){var i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;var s=Ur(e,r,n),a=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(a,s),s},t}();});var Hp,zi,Ao,gt,Gp,Yp,jt,Hi,Kp,Wt,Ro,Jp,xe,zr=B(()=>{Mo();jr();Bt();Br();Wi();qo();Fr();Hp=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s);})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f));}catch(h){a(h);}}function l(f){try{u(n.throw(f));}catch(h){a(h);}}function u(f){f.done?s(f.value):i(f.value).then(o,l);}u((n=n.apply(t,e||[])).next());})},zi=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r);}catch(f){u=[6,f],i=0;}finally{n=s=0;}if(u[0]&5)throw u[1];return {value:u[0]?u[1]:void 0,done:!0}}},Ao=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value);})};}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o});},a);}},gt=function(t){return this instanceof gt?(this.v=t,this):new gt(t)},Gp=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(c){return new Promise(function(g,m){s.push([d,c,g,m])>1||o(d,c);})});}function o(d,c){try{l(n[d](c));}catch(g){h(s[0][3],g);}}function l(d){d.value instanceof gt?Promise.resolve(d.value.v).then(u,f):h(s[0][2],d);}function u(d){o("next",d);}function f(d){o("throw",d);}function h(d,c){d(c),s.shift(),s.length&&o(s[0][0],s[0][1]);}},Yp=function(t){var e=typeof t;return e==="string"||e==="number"},jt=-1,Hi=new DataView(new ArrayBuffer(0)),Kp=new Uint8Array(Hi.buffer),Wt=function(){try{Hi.getInt8(0);}catch(t){return t.constructor}throw new Error("never reached")}(),Ro=new Wt("Insufficient data"),Jp=new To,xe=function(){function t(e,r,n,i,s,a,o,l){e===void 0&&(e=dt.defaultCodec),r===void 0&&(r=void 0),n===void 0&&(n=be),i===void 0&&(i=be),s===void 0&&(s=be),a===void 0&&(a=be),o===void 0&&(o=be),l===void 0&&(l=Jp),this.extensionCodec=e,this.context=r,this.maxStrLength=n,this.maxBinLength=i,this.maxArrayLength=s,this.maxMapLength=a,this.maxExtLength=o,this.keyDecoder=l,this.totalPos=0,this.pos=0,this.view=Hi,this.bytes=Kp,this.headByte=jt,this.stack=[];}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=jt,this.stack.length=0;},t.prototype.setBuffer=function(e){this.bytes=pt(e),this.view=Eo(this.bytes),this.pos=0;},t.prototype.appendBuffer=function(e){if(this.headByte===jt&&!this.hasRemaining(1))this.setBuffer(e);else {var r=this.bytes.subarray(this.pos),n=pt(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i);}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var r=this,n=r.view,i=r.pos;return new RangeError("Extra ".concat(n.byteLength-i," of ").concat(n.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r},t.prototype.decodeMulti=function(e){return zi(this,function(r){switch(r.label){case 0:this.reinitializeState(),this.setBuffer(e),r.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return r.sent(),[3,1];case 3:return [2]}})},t.prototype.decodeAsync=function(e){var r,n,i,s;return Hp(this,void 0,void 0,function(){var a,o,l,u,f,h,d,c;return zi(this,function(g){switch(g.label){case 0:a=!1,g.label=1;case 1:g.trys.push([1,6,7,12]),r=Ao(e),g.label=2;case 2:return [4,r.next()];case 3:if(n=g.sent(),!!n.done)return [3,5];if(l=n.value,a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{o=this.doDecodeSync(),a=!0;}catch(m){if(!(m instanceof Wt))throw m}this.totalPos+=this.pos,g.label=4;case 4:return [3,2];case 5:return [3,12];case 6:return u=g.sent(),i={error:u},[3,12];case 7:return g.trys.push([7,,10,11]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,9];case 8:g.sent(),g.label=9;case 9:return [3,11];case 10:if(i)throw i.error;return [7];case 11:return [7];case 12:if(a){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return [2,o]}throw f=this,h=f.headByte,d=f.pos,c=f.totalPos,new RangeError("Insufficient data in parsing ".concat(Vr(h)," at ").concat(c," (").concat(d," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,r){return Gp(this,arguments,function(){var i,s,a,o,l,u,f,h,d;return zi(this,function(c){switch(c.label){case 0:i=r,s=-1,c.label=1;case 1:c.trys.push([1,13,14,19]),a=Ao(e),c.label=2;case 2:return [4,gt(a.next())];case 3:if(o=c.sent(),!!o.done)return [3,12];if(l=o.value,r&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(l),i&&(s=this.readArraySize(),i=!1,this.complete()),c.label=4;case 4:c.trys.push([4,9,,10]),c.label=5;case 5:return [4,gt(this.doDecodeSync())];case 6:return [4,c.sent()];case 7:return c.sent(),--s===0?[3,8]:[3,5];case 8:return [3,10];case 9:if(u=c.sent(),!(u instanceof Wt))throw u;return [3,10];case 10:this.totalPos+=this.pos,c.label=11;case 11:return [3,2];case 12:return [3,19];case 13:return f=c.sent(),h={error:f},[3,19];case 14:return c.trys.push([14,,17,18]),o&&!o.done&&(d=a.return)?[4,gt(d.call(a))]:[3,16];case 15:c.sent(),c.label=16;case 16:return [3,18];case 17:if(h)throw h.error;return [7];case 18:return [7];case 19:return [2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),r=void 0;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){var n=e-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else r={};}else if(e<160){var n=e-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[];}else {var i=e-160;r=this.decodeUtf8String(i,0);}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)r=this.readI64();else if(e===217){var i=this.lookU8();r=this.decodeUtf8String(i,1);}else if(e===218){var i=this.lookU16();r=this.decodeUtf8String(i,2);}else if(e===219){var i=this.lookU32();r=this.decodeUtf8String(i,4);}else if(e===220){var n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[];}else if(e===221){var n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else r=[];}else if(e===222){var n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else r={};}else if(e===223){var n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else r={};}else if(e===196){var n=this.lookU8();r=this.decodeBinary(n,1);}else if(e===197){var n=this.lookU16();r=this.decodeBinary(n,2);}else if(e===198){var n=this.lookU32();r=this.decodeBinary(n,4);}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){var n=this.lookU8();r=this.decodeExtension(n,1);}else if(e===200){var n=this.lookU16();r=this.decodeExtension(n,2);}else if(e===201){var n=this.lookU32();r=this.decodeExtension(n,4);}else throw new Y("Unrecognized type byte: ".concat(Vr(e)));this.complete();for(var s=this.stack;s.length>0;){var a=s[s.length-1];if(a.type===0)if(a.array[a.position]=r,a.position++,a.position===a.size)s.pop(),r=a.array;else continue e;else if(a.type===1){if(!Yp(r))throw new Y("The type of key must be string or number but "+typeof r);if(r==="__proto__")throw new Y("The key __proto__ is not allowed");a.key=r,a.type=2;continue e}else if(a.map[a.key]=r,a.readCount++,a.readCount===a.size)s.pop(),r=a.map;else {a.key=null,a.type=1;continue e}}return r}},t.prototype.readHeadByte=function(){return this.headByte===jt&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=jt;},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Y("Unrecognized array type byte: ".concat(Vr(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new Y("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}});},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new Y("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0});},t.prototype.decodeUtf8String=function(e,r){var n;if(e>this.maxStrLength)throw new Y("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+r+e)throw Ro;var i=this.pos+r,s;return this.stateIsMapKey()&&(!((n=this.keyDecoder)===null||n===void 0)&&n.canBeCached(e))?s=this.keyDecoder.decode(this.bytes,i,e):e>wo?s=bo(this.bytes,i,e):s=Ur(this.bytes,i,e),this.pos+=r+e,s},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return !1},t.prototype.decodeBinary=function(e,r){if(e>this.maxBinLength)throw new Y("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+r))throw Ro;var n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i},t.prototype.decodeExtension=function(e,r){if(e>this.maxExtLength)throw new Y("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=mo(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=Dr(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}();});function Po(t,e){e===void 0&&(e=Ge);var r=new xe(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return r.decode(t)}function No(t,e){e===void 0&&(e=Ge);var r=new xe(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return r.decodeMulti(t)}var Ge,Gi=B(()=>{zr();Ge={};});function Qp(t){return t[Symbol.asyncIterator]!=null}function e0(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function t0(t){return Zp(this,arguments,function(){var r,n,i,s;return Xp(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return [4,mt(r.read())];case 3:return n=a.sent(),i=n.done,s=n.value,i?[4,mt(void 0)]:[3,5];case 4:return [2,a.sent()];case 5:return e0(s),[4,mt(s)];case 6:return [4,a.sent()];case 7:return a.sent(),[3,2];case 8:return [3,10];case 9:return r.releaseLock(),[7];case 10:return [2]}})})}function Hr(t){return Qp(t)?t:t0(t)}var Xp,mt,Zp,Co=B(()=>{Xp=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r);}catch(f){u=[6,f],i=0;}finally{n=s=0;}if(u[0]&5)throw u[1];return {value:u[0]?u[1]:void 0,done:!0}}},mt=function(t){return this instanceof mt?(this.v=t,this):new mt(t)},Zp=function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){n[d]&&(i[d]=function(c){return new Promise(function(g,m){s.push([d,c,g,m])>1||o(d,c);})});}function o(d,c){try{l(n[d](c));}catch(g){h(s[0][3],g);}}function l(d){d.value instanceof mt?Promise.resolve(d.value.v).then(u,f):h(s[0][2],d);}function u(d){o("next",d);}function f(d){o("throw",d);}function h(d,c){d(c),s.shift(),s.length&&o(s[0][0],s[0][1]);}};});function Lo(t,e){return e===void 0&&(e=Ge),r0(this,void 0,void 0,function(){var r,n;return n0(this,function(i){return r=Hr(t),n=new xe(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength),[2,n.decodeAsync(r)]})})}function Io(t,e){e===void 0&&(e=Ge);var r=Hr(t),n=new xe(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return n.decodeArrayStream(r)}function Yi(t,e){e===void 0&&(e=Ge);var r=Hr(t),n=new xe(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return n.decodeStream(r)}function ko(t,e){return e===void 0&&(e=Ge),Yi(t,e)}var r0,n0,Do=B(()=>{zr();Co();Gi();r0=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s);})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f));}catch(h){a(h);}}function l(f){try{u(n.throw(f));}catch(h){a(h);}}function u(f){f.done?s(f.value):i(f.value).then(o,l);}u((n=n.apply(t,e||[])).next());})},n0=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r);}catch(f){u=[6,f],i=0;}finally{n=s=0;}if(u[0]&5)throw u[1];return {value:u[0]?u[1]:void 0,done:!0}}};});var $o={};co($o,{DataViewIndexOutOfBoundsError:()=>Wt,DecodeError:()=>Y,Decoder:()=>xe,EXT_TIMESTAMP:()=>ki,Encoder:()=>Wr,ExtData:()=>He,ExtensionCodec:()=>dt,decode:()=>Po,decodeArrayStream:()=>Io,decodeAsync:()=>Lo,decodeMulti:()=>No,decodeMultiStream:()=>Yi,decodeStream:()=>ko,decodeTimestampExtension:()=>Fi,decodeTimestampToTimeSpec:()=>Bi,encode:()=>So,encodeDateToTimeSpec:()=>$i,encodeTimeSpecToTimestamp:()=>Di,encodeTimestampExtension:()=>Ui});var Uo=B(()=>{Oo();Gi();Do();zr();Fr();Vi();jr();Ii();ji();});var K=p(($x,Bo)=>{var Ki=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t);}};Bo.exports=t=>{if(t.length>2)throw new Ki(t);function e(n={}){this.options=n;}e.prototype.transform=t;function r(n){return new e(n)}return r.Format=e,r};});var Vo=p((Ux,Wo)=>{var jo={};Wo.exports=jo;var Fo={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(Fo).forEach(function(t){var e=Fo[t],r=jo[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m";});});var Ho=p((Bx,zo)=>{zo.exports=function(t,e){e=e||process.argv;var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)};});var Yo=p((Fx,Go)=>{var i0=y("os"),ae=Ho(),z=process.env,vt=void 0;ae("no-color")||ae("no-colors")||ae("color=false")?vt=!1:(ae("color")||ae("colors")||ae("color=true")||ae("color=always"))&&(vt=!0);"FORCE_COLOR"in z&&(vt=z.FORCE_COLOR.length===0||parseInt(z.FORCE_COLOR,10)!==0);function s0(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function a0(t){if(vt===!1)return 0;if(ae("color=16m")||ae("color=full")||ae("color=truecolor"))return 3;if(ae("color=256"))return 2;if(t&&!t.isTTY&&vt!==!0)return 0;var e=vt?1:0;if(process.platform==="win32"){var r=i0.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in z)return ["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in z})||z.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in z)return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(z.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in z){var n=parseInt((z.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(z.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return /-256(color)?$/i.test(z.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(z.TERM)||"COLORTERM"in z?1:(z.TERM==="dumb",e)}function Ji(t){var e=a0(t);return s0(e)}Go.exports={supportsColor:Ji,stdout:Ji(process.stdout),stderr:Ji(process.stderr)};});var Jo=p((jx,Ko)=>{Ko.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(s){s=s.toLowerCase();var a=i[s]||[" "],o=Math.floor(Math.random()*a.length);typeof i[s]<"u"?n+=i[s][o]:n+=s;}),n};});var Zo=p((Wx,Xo)=>{Xo.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function s(l){var u=Math.floor(Math.random()*l);return u}function a(l){var u=!1;return i.filter(function(f){u=f===l;}),u}function o(l,u){var f="",h,d;u=u||{},u.up=typeof u.up<"u"?u.up:!0,u.mid=typeof u.mid<"u"?u.mid:!0,u.down=typeof u.down<"u"?u.down:!0,u.size=typeof u.size<"u"?u.size:"maxi",l=l.split("");for(d in l)if(!a(d)){switch(f=f+l[d],h={up:0,down:0,mid:0},u.size){case"mini":h.up=s(8),h.mid=s(2),h.down=s(8);break;case"maxi":h.up=s(16)+3,h.mid=s(4)+1,h.down=s(64)+3;break;default:h.up=s(8)+1,h.mid=s(6)/2,h.down=s(8)+1;break}var c=["up","mid","down"];for(var g in c)for(var m=c[g],v=0;v<=h[m];v++)u[m]&&(f=f+n[m][s(n[m].length)]);}return f}return o(e,r)};});var eu=p((Vx,Qo)=>{Qo.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}};});var ru=p((zx,tu)=>{tu.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}};});var iu=p((Hx,nu)=>{nu.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}};});var au=p((Gx,su)=>{su.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}};});var hu=p((Kx,cu)=>{var O={};cu.exports=O;O.themes={};var o0=y("util"),Ye=O.styles=Vo(),uu=Object.defineProperties,u0=new RegExp(/[\r\n]+/g);O.supportsColor=Yo().supportsColor;typeof O.enabled>"u"&&(O.enabled=O.supportsColor()!==!1);O.enable=function(){O.enabled=!0;};O.disable=function(){O.enabled=!1;};O.stripColors=O.strip=function(t){return (""+t).replace(/\x1B\[\d+m/g,"")};O.stylize=function(e,r){if(!O.enabled)return e+"";var n=Ye[r];return !n&&r in O?O[r](e):n.open+e+n.close};var l0=/[|\\{}()[\]^$+*?.]/g,f0=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(l0,"\\$&")};function lu(t){var e=function r(){return h0.apply(r,arguments)};return e._styles=t,e.__proto__=c0,e}var fu=function(){var t={};return Ye.grey=Ye.gray,Object.keys(Ye).forEach(function(e){Ye[e].closeRe=new RegExp(f0(Ye[e].close),"g"),t[e]={get:function(){return lu(this._styles.concat(e))}};}),t}(),c0=uu(function(){},fu);function h0(){var t=Array.prototype.slice.call(arguments),e=t.map(function(a){return a!=null&&a.constructor===String?a:o0.inspect(a)}).join(" ");if(!O.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var s=Ye[n[i]];e=s.open+e.replace(s.closeRe,s.open)+s.close,r&&(e=e.replace(u0,function(a){return s.close+a+s.open}));}return e}O.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){O[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var s in t[r])i=O[t[r][s]](i);return i}return O[t[r]](n)};})(e);};function d0(){var t={};return Object.keys(fu).forEach(function(e){t[e]={get:function(){return lu([e])}};}),t}var p0=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};O.trap=Jo();O.zalgo=Zo();O.maps={};O.maps.america=eu()(O);O.maps.zebra=ru()(O);O.maps.rainbow=iu()(O);O.maps.random=au()(O);for(ou in O.maps)(function(t){O[t]=function(e){return p0(O.maps[t],e)};})(ou);var ou;uu(O,d0());});var Xi=p((Jx,du)=>{var g0=hu();du.exports=g0;});var pu=p(Zi=>{Zi.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};Zi.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"};});var gu=p(Qi=>{Qi.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};Qi.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"};});var mu=p(es=>{es.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};es.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"};});var vu=p(Gr=>{Object.defineProperty(Gr,"cli",{value:pu()});Object.defineProperty(Gr,"npm",{value:gu()});Object.defineProperty(Gr,"syslog",{value:mu()});});var k=p(Vt=>{Object.defineProperty(Vt,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(Vt,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(Vt,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(Vt,"configs",{value:vu()});});var Jr=p((r2,Kr)=>{var ns=Xi(),{LEVEL:ts,MESSAGE:rs}=k();ns.enabled=!0;var yu=/\s+/,Yr=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e;}static addColors(e){let r=Object.keys(e).reduce((n,i)=>(n[i]=yu.test(e[i])?e[i].split(yu):e[i],n),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(t.allColors[e]))return ns[t.allColors[e]](n);for(let i=0,s=t.allColors[e].length;i<s;i++)n=ns[t.allColors[e][i]](n);return n}transform(e,r){return r.all&&typeof e[rs]=="string"&&(e[rs]=this.colorize(e[ts],e.level,e[rs])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[ts],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[ts],e.level,e.message)),e}};Kr.exports=t=>new Yr(t);Kr.exports.Colorizer=Kr.exports.Format=Yr;});var wu=p((n2,_u)=>{var{Colorizer:m0}=Jr();_u.exports=t=>(m0.addColors(t.colors||t),t);});var xu=p((i2,bu)=>{var v0=K();bu.exports=v0(t=>(t.message=`	${t.message}`,t));});var Ou=p((s2,Su)=>{var y0=K(),{LEVEL:Eu,MESSAGE:is}=k();Su.exports=y0((t,{stack:e,cause:r})=>{if(t instanceof Error){let i=Object.assign({},t,{level:t.level,[Eu]:t[Eu]||t.level,message:t.message,[is]:t[is]||t.message});return e&&(i.stack=t.stack),r&&(i.cause=t.cause),i}if(!(t.message instanceof Error))return t;let n=t.message;return Object.assign(t,n),t.message=n.message,t[is]=n.message,e&&(t.stack=n.stack),r&&(t.cause=n.cause),t});});var as=p((a2,Zr)=>{var{configs:_0,LEVEL:Mu,MESSAGE:ss}=k(),Xr=class t{constructor(e={levels:_0.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e;}static getLongestLevel(e){let r=Object.keys(e).map(n=>n.length);return Math.max(...r)}static paddingForLevel(e,r,n){let i=n+1-e.length,s=Math.floor(i/r.length);return `${r}${r.repeat(s)}`.slice(0,i)}static paddingForLevels(e,r=" "){let n=t.getLongestLevel(e);return Object.keys(e).reduce((i,s)=>(i[s]=t.paddingForLevel(s,r,n),i),{})}transform(e,r){return e.message=`${this.paddings[e[Mu]]}${e.message}`,e[ss]&&(e[ss]=`${this.paddings[e[Mu]]}${e[ss]}`),e}};Zr.exports=t=>new Xr(t);Zr.exports.Padder=Zr.exports.Format=Xr;});var Tu=p((o2,os)=>{var{Colorizer:w0}=Jr(),{Padder:b0}=as(),{configs:x0,MESSAGE:E0}=k(),Qr=class{constructor(e={}){e.levels||(e.levels=x0.cli.levels),this.colorizer=new w0(e),this.padder=new b0(e),this.options=e;}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[E0]=`${e.level}:${e.message}`,e}};os.exports=t=>new Qr(t);os.exports.Format=Qr;});var Au=p((u2,us)=>{var S0=K();function qu(t){if(t.every(O0))return e=>{let r=e;for(let n=0;n<t.length;n++)if(r=t[n].transform(r,t[n].options),!r)return !1;return r}}function O0(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return !0}us.exports=(...t)=>{let e=S0(qu(t)),r=e();return r.Format=e.Format,r};us.exports.cascade=qu;});var tn=p((hs,Cu)=>{var{hasOwnProperty:en}=Object.prototype,Je=cs();Je.configure=cs;Je.stringify=Je;Je.default=Je;hs.stringify=Je;hs.configure=cs;Cu.exports=Je;var M0=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function Re(t){return t.length<5e3&&!M0.test(t)?`"${t}"`:JSON.stringify(t)}function ls(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],n=e;for(;n!==0&&t[n-1]>r;)t[n]=t[n-1],n--;t[n]=r;}return t}var T0=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function fs(t){return T0.call(t)!==void 0&&t.length!==0}function Ru(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let s=1;s<r;s++)i+=`${e}"${s}":${n}${t[s]}`;return i}function q0(t){if(en.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return `"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return {toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return '"[Circular]"'}function Pu(t,e){let r;if(en.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function Nu(t,e){let r;if(en.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function Ke(t){return t===1?"1 item":`${t} items`}function A0(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function R0(t){if(en.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function cs(t){t={...t};let e=R0(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=q0(t),n=Pu(t,"bigint"),i=Pu(t,"deterministic"),s=Nu(t,"maximumDepth"),a=Nu(t,"maximumBreadth");function o(d,c,g,m,v,b){let w=c[d];switch(typeof w=="object"&&w!==null&&typeof w.toJSON=="function"&&(w=w.toJSON(d)),w=m.call(c,d,w),typeof w){case"string":return Re(w);case"object":{if(w===null)return "null";if(g.indexOf(w)!==-1)return r;let x="",E=",",M=b;if(Array.isArray(w)){if(w.length===0)return "[]";if(s<g.length+1)return '"[Array]"';g.push(w),v!==""&&(b+=v,x+=`
${b}`,E=`,
${b}`);let G=Math.min(w.length,a),fe=0;for(;fe<G-1;fe++){let Lr=o(String(fe),w,g,m,v,b);x+=Lr!==void 0?Lr:"null",x+=E;}let ce=o(String(fe),w,g,m,v,b);if(x+=ce!==void 0?ce:"null",w.length-1>a){let Lr=w.length-a-1;x+=`${E}"... ${Ke(Lr)} not stringified"`;}return v!==""&&(x+=`
${M}`),g.pop(),`[${x}]`}let A=Object.keys(w),N=A.length;if(N===0)return "{}";if(s<g.length+1)return '"[Object]"';let T="",U="";v!==""&&(b+=v,E=`,
${b}`,T=" ");let se=Math.min(N,a);i&&!fs(w)&&(A=ls(A)),g.push(w);for(let G=0;G<se;G++){let fe=A[G],ce=o(fe,w,g,m,v,b);ce!==void 0&&(x+=`${U}${Re(fe)}:${T}${ce}`,U=E);}if(N>a){let G=N-a;x+=`${U}"...":${T}"${Ke(G)} not stringified"`,U=E;}return v!==""&&U.length>1&&(x=`
${b}${x}
${M}`),g.pop(),`{${x}}`}case"number":return isFinite(w)?String(w):e?e(w):"null";case"boolean":return w===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(w);default:return e?e(w):void 0}}function l(d,c,g,m,v,b){switch(typeof c=="object"&&c!==null&&typeof c.toJSON=="function"&&(c=c.toJSON(d)),typeof c){case"string":return Re(c);case"object":{if(c===null)return "null";if(g.indexOf(c)!==-1)return r;let w=b,x="",E=",";if(Array.isArray(c)){if(c.length===0)return "[]";if(s<g.length+1)return '"[Array]"';g.push(c),v!==""&&(b+=v,x+=`
${b}`,E=`,
${b}`);let N=Math.min(c.length,a),T=0;for(;T<N-1;T++){let se=l(String(T),c[T],g,m,v,b);x+=se!==void 0?se:"null",x+=E;}let U=l(String(T),c[T],g,m,v,b);if(x+=U!==void 0?U:"null",c.length-1>a){let se=c.length-a-1;x+=`${E}"... ${Ke(se)} not stringified"`;}return v!==""&&(x+=`
${w}`),g.pop(),`[${x}]`}g.push(c);let M="";v!==""&&(b+=v,E=`,
${b}`,M=" ");let A="";for(let N of m){let T=l(N,c[N],g,m,v,b);T!==void 0&&(x+=`${A}${Re(N)}:${M}${T}`,A=E);}return v!==""&&A.length>1&&(x=`
${b}${x}
${w}`),g.pop(),`{${x}}`}case"number":return isFinite(c)?String(c):e?e(c):"null";case"boolean":return c===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(c);default:return e?e(c):void 0}}function u(d,c,g,m,v){switch(typeof c){case"string":return Re(c);case"object":{if(c===null)return "null";if(typeof c.toJSON=="function"){if(c=c.toJSON(d),typeof c!="object")return u(d,c,g,m,v);if(c===null)return "null"}if(g.indexOf(c)!==-1)return r;let b=v;if(Array.isArray(c)){if(c.length===0)return "[]";if(s<g.length+1)return '"[Array]"';g.push(c),v+=m;let T=`
${v}`,U=`,
${v}`,se=Math.min(c.length,a),G=0;for(;G<se-1;G++){let ce=u(String(G),c[G],g,m,v);T+=ce!==void 0?ce:"null",T+=U;}let fe=u(String(G),c[G],g,m,v);if(T+=fe!==void 0?fe:"null",c.length-1>a){let ce=c.length-a-1;T+=`${U}"... ${Ke(ce)} not stringified"`;}return T+=`
${b}`,g.pop(),`[${T}]`}let w=Object.keys(c),x=w.length;if(x===0)return "{}";if(s<g.length+1)return '"[Object]"';v+=m;let E=`,
${v}`,M="",A="",N=Math.min(x,a);fs(c)&&(M+=Ru(c,E,a),w=w.slice(c.length),N-=c.length,A=E),i&&(w=ls(w)),g.push(c);for(let T=0;T<N;T++){let U=w[T],se=u(U,c[U],g,m,v);se!==void 0&&(M+=`${A}${Re(U)}: ${se}`,A=E);}if(x>a){let T=x-a;M+=`${A}"...": "${Ke(T)} not stringified"`,A=E;}return A!==""&&(M=`
${v}${M}
${b}`),g.pop(),`{${M}}`}case"number":return isFinite(c)?String(c):e?e(c):"null";case"boolean":return c===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(c);default:return e?e(c):void 0}}function f(d,c,g){switch(typeof c){case"string":return Re(c);case"object":{if(c===null)return "null";if(typeof c.toJSON=="function"){if(c=c.toJSON(d),typeof c!="object")return f(d,c,g);if(c===null)return "null"}if(g.indexOf(c)!==-1)return r;let m="";if(Array.isArray(c)){if(c.length===0)return "[]";if(s<g.length+1)return '"[Array]"';g.push(c);let E=Math.min(c.length,a),M=0;for(;M<E-1;M++){let N=f(String(M),c[M],g);m+=N!==void 0?N:"null",m+=",";}let A=f(String(M),c[M],g);if(m+=A!==void 0?A:"null",c.length-1>a){let N=c.length-a-1;m+=`,"... ${Ke(N)} not stringified"`;}return g.pop(),`[${m}]`}let v=Object.keys(c),b=v.length;if(b===0)return "{}";if(s<g.length+1)return '"[Object]"';let w="",x=Math.min(b,a);fs(c)&&(m+=Ru(c,",",a),v=v.slice(c.length),x-=c.length,w=","),i&&(v=ls(v)),g.push(c);for(let E=0;E<x;E++){let M=v[E],A=f(M,c[M],g);A!==void 0&&(m+=`${w}${Re(M)}:${A}`,w=",");}if(b>a){let E=b-a;m+=`${w}"...":"${Ke(E)} not stringified"`;}return g.pop(),`{${m}}`}case"number":return isFinite(c)?String(c):e?e(c):"null";case"boolean":return c===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(c);default:return e?e(c):void 0}}function h(d,c,g){if(arguments.length>1){let m="";if(typeof g=="number"?m=" ".repeat(Math.min(g,10)):typeof g=="string"&&(m=g.slice(0,10)),c!=null){if(typeof c=="function")return o("",{"":d},[],c,m,"");if(Array.isArray(c))return l("",d,[],A0(c),m,"")}if(m.length!==0)return u("",d,[],m,"")}return f("",d,[])}return h}});var ds=p((l2,Lu)=>{var P0=K(),{MESSAGE:N0}=k(),C0=tn();function L0(t,e){return typeof e=="bigint"?e.toString():e}Lu.exports=P0((t,e)=>{let r=C0.configure(e);return t[N0]=r(t,e.replacer||L0,e.space),t});});var ku=p((f2,Iu)=>{var I0=K();Iu.exports=I0((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t));});var $u=p((c2,Du)=>{var k0=K(),{MESSAGE:D0}=k(),$0=tn();Du.exports=k0(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[D0]=$0(e),t});});var Bu=p((h2,Uu)=>{var U0=K();function B0(t,e,r){let n=e.reduce((s,a)=>(s[a]=t[a],delete t[a],s),{}),i=Object.keys(t).reduce((s,a)=>(s[a]=t[a],delete t[a],s),{});return Object.assign(t,n,{[r]:i}),t}function F0(t,e,r){return t[r]=e.reduce((n,i)=>(n[i]=t[i],delete t[i],n),{}),t}Uu.exports=U0((t,e={})=>{let r="metadata";e.key&&(r=e.key);let n=[];return !e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?B0(t,n,r):e.fillWith?F0(t,e.fillWith,r):t});});var ju=p((d2,Fu)=>{var yt=1e3,_t=yt*60,wt=_t*60,Xe=wt*24,j0=Xe*7,W0=Xe*365.25;Fu.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return V0(t);if(r==="number"&&isFinite(t))return e.long?H0(t):z0(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function V0(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*W0;case"weeks":case"week":case"w":return r*j0;case"days":case"day":case"d":return r*Xe;case"hours":case"hour":case"hrs":case"hr":case"h":return r*wt;case"minutes":case"minute":case"mins":case"min":case"m":return r*_t;case"seconds":case"second":case"secs":case"sec":case"s":return r*yt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function z0(t){var e=Math.abs(t);return e>=Xe?Math.round(t/Xe)+"d":e>=wt?Math.round(t/wt)+"h":e>=_t?Math.round(t/_t)+"m":e>=yt?Math.round(t/yt)+"s":t+"ms"}function H0(t){var e=Math.abs(t);return e>=Xe?rn(t,e,Xe,"day"):e>=wt?rn(t,e,wt,"hour"):e>=_t?rn(t,e,_t,"minute"):e>=yt?rn(t,e,yt,"second"):t+" ms"}function rn(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Vu=p((zt,Wu)=>{var G0=K(),Y0=ju();Wu.exports=G0(t=>{let e=+new Date;return zt.diff=e-(zt.prevTime||e),zt.prevTime=e,t.ms=`+${Y0(zt.diff)}`,t});});var Gu=p((p2,Hu)=>{var K0=y("util").inspect,J0=K(),{LEVEL:X0,MESSAGE:zu,SPLAT:Z0}=k();Hu.exports=J0((t,e={})=>{let r=Object.assign({},t);return delete r[X0],delete r[zu],delete r[Z0],t[zu]=K0(r,!1,e.depth||null,e.colorize),t});});var Yu=p((g2,sn)=>{var{MESSAGE:Q0}=k(),nn=class{constructor(e){this.template=e;}transform(e){return e[Q0]=this.template(e),e}};sn.exports=t=>new nn(t);sn.exports.Printf=sn.exports.Format=nn;});var Xu=p((m2,Ju)=>{var eg=K(),{MESSAGE:Ku}=k(),tg=tn();Ju.exports=eg(t=>{let e=tg(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[Ku]=`${t.level}:${r} ${t.message} ${e}`:t[Ku]=`${t.level}:${r} ${t.message}`,t});});var el=p((v2,Qu)=>{var rg=y("util"),{SPLAT:Zu}=k(),ng=/%[scdjifoO%]/g,ig=/%%/g,ps=class{constructor(e){this.options=e;}_splat(e,r){let n=e.message,i=e[Zu]||e.splat||[],s=n.match(ig),a=s&&s.length||0,l=r.length-a-i.length,u=l<0?i.splice(l,-1*l):[],f=u.length;if(f)for(let h=0;h<f;h++)Object.assign(e,u[h]);return e.message=rg.format(n,...i),e}transform(e){let r=e.message,n=e[Zu]||e.splat;if(!n||!n.length)return e;let i=r&&r.match&&r.match(ng);if(!i&&(n||n.length)){let s=n.length>1?n.splice(0):n,a=s.length;if(a)for(let o=0;o<a;o++)Object.assign(e,s[o]);return e}return i?this._splat(e,i):e}};Qu.exports=t=>new ps(t);});var vl={};co(vl,{assign:()=>Ce,default:()=>hg,defaultI18n:()=>gs,format:()=>gl,parse:()=>ml,setGlobalDateI18n:()=>dl,setGlobalDateMasks:()=>pl});function fl(t,e){for(var r=[],n=0,i=t.length;n<i;n++)r.push(t[n].substr(0,e));return r}function Ce(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,i=e;n<i.length;n++){var s=i[n];for(var a in s)t[a]=s[a];}return t}function ml(t,e,r){if(r===void 0&&(r={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=on[e]||e,t.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},s=[],a=[],o=e.replace(ll,function(E,M){return a.push(rl(M)),"@@@"}),l={},u={};o=rl(o).replace(ul,function(E){var M=fg[E],A=M[0],N=M[1],T=M[3];if(l[A])throw new Error("Invalid format. "+A+" specified twice in format");return l[A]=!0,T&&(u[T]=!0),s.push(M),"("+N+")"}),Object.keys(u).forEach(function(E){if(!l[E])throw new Error("Invalid format. "+E+" is required in specified format")}),o=o.replace(/@@@/g,function(){return a.shift()});var f=t.match(new RegExp(o,"i"));if(!f)return null;for(var h=Ce(Ce({},an),r),d=1;d<f.length;d++){var c=s[d-1],g=c[0],m=c[2],v=m?m(f[d],h):+f[d];if(v==null)return null;i[g]=v;}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var b;if(i.timezoneOffset==null){b=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var w=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,x=w.length;d<x;d++)if(l[w[d][0]]&&i[w[d][0]]!==b[w[d][1]]())return null}else if(b=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return b}var ul,Ne,Pe,sg,ag,Ht,ll,tl,cl,hl,og,ug,gs,an,dl,rl,J,lg,nl,il,sl,al,ol,fg,on,pl,gl,cg,hg,yl=B(()=>{ul=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ne="\\d\\d?",Pe="\\d\\d",sg="\\d{3}",ag="\\d{4}",Ht="[^\\s]+",ll=/\[([^]*?)\]/gm;tl=function(t){return function(e,r){var n=r[t].map(function(s){return s.toLowerCase()}),i=n.indexOf(e.toLowerCase());return i>-1?i:null}};cl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],hl=["January","February","March","April","May","June","July","August","September","October","November","December"],og=fl(hl,3),ug=fl(cl,3),gs={dayNamesShort:ug,dayNames:cl,monthNamesShort:og,monthNames:hl,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},an=Ce({},gs),dl=function(t){return an=Ce(an,t)},rl=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},J=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},lg={D:function(t){return String(t.getDate())},DD:function(t){return J(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return J(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return J(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return J(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return J(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return J(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return J(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return J(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return J(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return J(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return J(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return (e>0?"-":"+")+J(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return (e>0?"-":"+")+J(Math.floor(Math.abs(e)/60),2)+":"+J(Math.abs(e)%60,2)}},nl=function(t){return +t-1},il=[null,Ne],sl=[null,Ht],al=["isPm",Ht,function(t,e){var r=t.toLowerCase();return r===e.amPm[0]?0:r===e.amPm[1]?1:null}],ol=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var r=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?r:-r}return 0}],fg={D:["day",Ne],DD:["day",Pe],Do:["day",Ne+Ht,function(t){return parseInt(t,10)}],M:["month",Ne,nl],MM:["month",Pe,nl],YY:["year",Pe,function(t){var e=new Date,r=+(""+e.getFullYear()).substr(0,2);return +(""+(+t>68?r-1:r)+t)}],h:["hour",Ne,void 0,"isPm"],hh:["hour",Pe,void 0,"isPm"],H:["hour",Ne],HH:["hour",Pe],m:["minute",Ne],mm:["minute",Pe],s:["second",Ne],ss:["second",Pe],YYYY:["year",ag],S:["millisecond","\\d",function(t){return +t*100}],SS:["millisecond",Pe,function(t){return +t*10}],SSS:["millisecond",sg],d:il,dd:il,ddd:sl,dddd:sl,MMM:["month",Ht,tl("monthNamesShort")],MMMM:["month",Ht,tl("monthNames")],a:al,A:al,ZZ:ol,Z:ol},on={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},pl=function(t){return Ce(on,t)},gl=function(t,e,r){if(e===void 0&&(e=on.default),r===void 0&&(r={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=on[e]||e;var n=[];e=e.replace(ll,function(s,a){return n.push(a),"@@@"});var i=Ce(Ce({},an),r);return e=e.replace(ul,function(s){return lg[s](t,i)}),e.replace(/@@@/g,function(){return n.shift()})};cg={format:gl,parse:ml,defaultI18n:gs,setGlobalDateI18n:dl,setGlobalDateMasks:pl},hg=cg;});var wl=p((y2,_l)=>{var dg=(yl(),po(vl)),pg=K();_l.exports=pg((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():dg.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t));});var xl=p((_2,bl)=>{var ms=Xi(),gg=K(),{MESSAGE:vs}=k();bl.exports=gg((t,e)=>(e.level!==!1&&(t.level=ms.strip(t.level)),e.message!==!1&&(t.message=ms.strip(String(t.message))),e.raw!==!1&&t[vs]&&(t[vs]=ms.strip(String(t[vs]))),t));});var _s=p(ys=>{var mg=ys.format=K();ys.levels=wu();function F(t,e){Object.defineProperty(mg,t,{get(){return e()},configurable:!0});}F("align",function(){return xu()});F("errors",function(){return Ou()});F("cli",function(){return Tu()});F("combine",function(){return Au()});F("colorize",function(){return Jr()});F("json",function(){return ds()});F("label",function(){return ku()});F("logstash",function(){return $u()});F("metadata",function(){return Bu()});F("ms",function(){return Vu()});F("padLevels",function(){return as()});F("prettyPrint",function(){return Gu()});F("printf",function(){return Yu()});F("simple",function(){return Xu()});F("splat",function(){return el()});F("timestamp",function(){return wl()});F("uncolorize",function(){return xl()});});var ws=p(ln=>{var{format:un}=y("util");ln.warn={deprecated(t){return ()=>{throw new Error(un("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return ()=>{throw new Error([un("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(n=>{t[n]=ln.warn[e](n);});},moved(t,e,r){function n(){return ()=>{throw new Error([un("winston.%s was moved in winston@3.0.0.",r),un("Use a winston.%s instead.",e)].join(`
`))}}Object.defineProperty(t,r,{get:n,set:n});},forProperties(t,e,r){r.forEach(n=>{let i=ln.warn[e](n);Object.defineProperty(t,n,{get:i,set:i});});}};});var El=p((x2,vg)=>{vg.exports={name:"winston",description:"A logger for just about everything.",version:"3.3.3",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{async:"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0",logform:"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},devDependencies:{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1",assume:"^2.2.0",colors:"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0",hock:"^1.4.1",mocha:"^8.0.1",nyc:"^15.1.0",rimraf:"^3.0.2",split2:"^3.1.1","std-mocks":"^1.0.1",through2:"^3.0.1","winston-compat":"^0.1.5"},main:"./lib/winston",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"populist lib/*.js lib/winston/*.js lib/winston/**/*.js",pretest:"npm run lint",test:"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit",build:"./node_modules/.bin/rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 6.4.0"},license:"MIT"};});var Ol=p((E2,Sl)=>{Sl.exports=y("util").deprecate;});var bs=p((S2,Ml)=>{Ml.exports=y("stream");});var Es=p((O2,ql)=>{function yg(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(xs,this,t)):process.nextTick(xs,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(fn,r):(r._writableState.errorEmitted=!0,process.nextTick(Tl,r,s)):process.nextTick(Tl,r,s):e?(process.nextTick(fn,r),e(s)):process.nextTick(fn,r);}),this)}function Tl(t,e){xs(t,e),fn(t);}function fn(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close");}function _g(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1);}function xs(t,e){t.emit("error",e);}function wg(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e);}ql.exports={destroy:yg,undestroy:_g,errorOrDestroy:wg};});var Le=p((M2,Pl)=>{var Rl={};function te(t,e,r){r||(r=Error);function n(s,a,o){return typeof e=="string"?e:e(s,a,o)}class i extends r{constructor(a,o,l){super(n(a,o,l));}}i.prototype.name=r.name,i.prototype.code=t,Rl[t]=i;}function Al(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return `of ${e} ${String(t)}`}function bg(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function xg(t,e,r){return (r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Eg(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}te("ERR_INVALID_OPT_VALUE",function(t,e){return 'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);te("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&bg(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(xg(t," argument"))i=`The ${t} ${n} ${Al(e,"type")}`;else {let s=Eg(t,".")?"property":"argument";i=`The "${t}" ${s} ${n} ${Al(e,"type")}`;}return i+=`. Received type ${typeof r}`,i},TypeError);te("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");te("ERR_METHOD_NOT_IMPLEMENTED",function(t){return "The "+t+" method is not implemented"});te("ERR_STREAM_PREMATURE_CLOSE","Premature close");te("ERR_STREAM_DESTROYED",function(t){return "Cannot call "+t+" after a stream was destroyed"});te("ERR_MULTIPLE_CALLBACK","Callback called multiple times");te("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");te("ERR_STREAM_WRITE_AFTER_END","write after end");te("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);te("ERR_UNKNOWN_ENCODING",function(t){return "Unknown encoding: "+t},TypeError);te("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Pl.exports.codes=Rl;});var Ss=p((T2,Nl)=>{var Sg=Le().codes.ERR_INVALID_OPT_VALUE;function Og(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Mg(t,e,r,n){var i=Og(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Sg(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Nl.exports={getHighWaterMark:Mg};});var Cl=p((q2,Os)=>{typeof Object.create=="function"?Os.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}));}:Os.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e;}};});var bt=p((A2,Ts)=>{try{if(Ms=y("util"),typeof Ms.inherits!="function")throw "";Ts.exports=Ms.inherits;}catch{Ts.exports=Cl();}var Ms;});var Ul=p((R2,$l)=>{function Ll(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n);}return r}function Il(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ll(Object(r),!0).forEach(function(n){Tg(t,n,r[n]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n));});}return t}function Tg(t,e,r){return e=Dl(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dl(n.key),n);}}function Ag(t,e,r){return e&&kl(t.prototype,e),r&&kl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dl(t){var e=Rg(t,"string");return typeof e=="symbol"?e:String(e)}function Rg(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var Pg=y("buffer"),cn=Pg.Buffer,Ng=y("util"),qs=Ng.inspect,Cg=qs&&qs.custom||"inspect";function Lg(t,e,r){cn.prototype.copy.call(t,e,r);}$l.exports=function(){function t(){qg(this,t),this.head=null,this.tail=null,this.length=0;}return Ag(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length;}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length;}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0;}},{key:"join",value:function(r){if(this.length===0)return "";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return cn.alloc(0);for(var n=cn.allocUnsafe(r>>>0),i=this.head,s=0;i;)Lg(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,o=r>a.length?a.length:r;if(o===a.length?s+=a:s+=a.slice(0,r),r-=o,r===0){o===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(o));break}++i;}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=cn.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,o=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,o),r-=o,r===0){o===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(o));break}++s;}return this.length-=s,n}},{key:Cg,value:function(r,n){return qs(this,Il(Il({},n),{},{depth:0,customInspect:!1}))}}]),t}();});var jl=p((As,Fl)=>{var hn=y("buffer"),he=hn.Buffer;function Bl(t,e){for(var r in t)e[r]=t[r];}he.from&&he.alloc&&he.allocUnsafe&&he.allocUnsafeSlow?Fl.exports=hn:(Bl(hn,As),As.Buffer=Ze);function Ze(t,e,r){return he(t,e,r)}Ze.prototype=Object.create(he.prototype);Bl(he,Ze);Ze.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return he(t,e,r)};Ze.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=he(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ze.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return he(t)};Ze.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return hn.SlowBuffer(t)};});var Ns=p(Vl=>{var Ps=jl().Buffer,Wl=Ps.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return !0;default:return !1}};function Ig(t){if(!t)return "utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return "utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return "utf16le";case"latin1":case"binary":return "latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0;}}function kg(t){var e=Ig(t);if(typeof e!="string"&&(Ps.isEncoding===Wl||!Wl(t)))throw new Error("Unknown encoding: "+t);return e||t}Vl.StringDecoder=Gt;function Gt(t){this.encoding=kg(t);var e;switch(this.encoding){case"utf16le":this.text=jg,this.end=Wg,e=4;break;case"utf8":this.fillLast=Ug,e=4;break;case"base64":this.text=Vg,this.end=zg,e=3;break;default:this.write=Hg,this.end=Gg;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ps.allocUnsafe(e);}Gt.prototype.write=function(t){if(t.length===0)return "";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return "";r=this.lastNeed,this.lastNeed=0;}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Gt.prototype.end=Fg;Gt.prototype.text=Bg;Gt.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length;};function Rs(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Dg(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Rs(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Rs(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Rs(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function $g(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Ug(t){var e=this.lastTotal-this.lastNeed,r=$g(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length;}function Bg(t,e){var r=Dg(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Fg(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function jg(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Wg(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Vg(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function zg(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Hg(t){return t.toString(this.encoding)}function Gg(t){return t&&t.length?this.write(t):""}});var dn=p((N2,Gl)=>{var zl=Le().codes.ERR_STREAM_PREMATURE_CLOSE;function Yg(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n);}}}function Kg(){}function Jg(t){return t.setHeader&&typeof t.abort=="function"}function Hl(t,e,r){if(typeof e=="function")return Hl(t,null,e);e||(e={}),r=Yg(r||Kg);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||o();},a=t._writableState&&t._writableState.finished,o=function(){i=!1,a=!0,n||r.call(t);},l=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,l=!0,i||r.call(t);},f=function(g){r.call(t,g);},h=function(){var g;if(n&&!l)return (!t._readableState||!t._readableState.ended)&&(g=new zl),r.call(t,g);if(i&&!a)return (!t._writableState||!t._writableState.ended)&&(g=new zl),r.call(t,g)},d=function(){t.req.on("finish",o);};return Jg(t)?(t.on("complete",o),t.on("abort",h),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",o),e.error!==!1&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",o),t.removeListener("abort",h),t.removeListener("request",d),t.req&&t.req.removeListener("finish",o),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",o),t.removeListener("end",u),t.removeListener("error",f),t.removeListener("close",h);}}Gl.exports=Hl;});var Kl=p((C2,Yl)=>{var pn;function Ie(t,e,r){return e=Xg(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xg(t){var e=Zg(t,"string");return typeof e=="symbol"?e:String(e)}function Zg(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var Qg=dn(),ke=Symbol("lastResolve"),Qe=Symbol("lastReject"),Yt=Symbol("error"),gn=Symbol("ended"),et=Symbol("lastPromise"),Cs=Symbol("handlePromise"),tt=Symbol("stream");function De(t,e){return {value:t,done:e}}function em(t){var e=t[ke];if(e!==null){var r=t[tt].read();r!==null&&(t[et]=null,t[ke]=null,t[Qe]=null,e(De(r,!1)));}}function tm(t){process.nextTick(em,t);}function rm(t,e){return function(r,n){t.then(function(){if(e[gn]){r(De(void 0,!0));return}e[Cs](r,n);},n);}}var nm=Object.getPrototypeOf(function(){}),im=Object.setPrototypeOf((pn={get stream(){return this[tt]},next:function(){var e=this,r=this[Yt];if(r!==null)return Promise.reject(r);if(this[gn])return Promise.resolve(De(void 0,!0));if(this[tt].destroyed)return new Promise(function(a,o){process.nextTick(function(){e[Yt]?o(e[Yt]):a(De(void 0,!0));});});var n=this[et],i;if(n)i=new Promise(rm(n,this));else {var s=this[tt].read();if(s!==null)return Promise.resolve(De(s,!1));i=new Promise(this[Cs]);}return this[et]=i,i}},Ie(pn,Symbol.asyncIterator,function(){return this}),Ie(pn,"return",function(){var e=this;return new Promise(function(r,n){e[tt].destroy(null,function(i){if(i){n(i);return}r(De(void 0,!0));});})}),pn),nm),sm=function(e){var r,n=Object.create(im,(r={},Ie(r,tt,{value:e,writable:!0}),Ie(r,ke,{value:null,writable:!0}),Ie(r,Qe,{value:null,writable:!0}),Ie(r,Yt,{value:null,writable:!0}),Ie(r,gn,{value:e._readableState.endEmitted,writable:!0}),Ie(r,Cs,{value:function(s,a){var o=n[tt].read();o?(n[et]=null,n[ke]=null,n[Qe]=null,s(De(o,!1))):(n[ke]=s,n[Qe]=a);},writable:!0}),r));return n[et]=null,Qg(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Qe];s!==null&&(n[et]=null,n[ke]=null,n[Qe]=null,s(i)),n[Yt]=i;return}var a=n[ke];a!==null&&(n[et]=null,n[ke]=null,n[Qe]=null,a(De(void 0,!0))),n[gn]=!0;}),e.on("readable",tm.bind(null,n)),n};Yl.exports=sm;});var Ql=p((L2,Zl)=>{function Jl(t,e,r,n,i,s,a){try{var o=t[s](a),l=o.value;}catch(u){r(u);return}o.done?e(l):Promise.resolve(l).then(n,i);}function am(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function a(l){Jl(s,n,i,a,o,"next",l);}function o(l){Jl(s,n,i,a,o,"throw",l);}a(void 0);})}}function Xl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n);}return r}function om(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xl(Object(r),!0).forEach(function(n){um(t,n,r[n]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xl(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n));});}return t}function um(t,e,r){return e=lm(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lm(t){var e=fm(t,"string");return typeof e=="symbol"?e:String(e)}function fm(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return (e==="string"?String:Number)(t)}var cm=Le().codes.ERR_INVALID_ARG_TYPE;function hm(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new cm("iterable",["Iterable"],e);var i=new t(om({objectMode:!0},r)),s=!1;i._read=function(){s||(s=!0,a());};function a(){return o.apply(this,arguments)}function o(){return o=am(function*(){try{var l=yield n.next(),u=l.value,f=l.done;f?i.push(null):i.push(yield u)?a():s=!1;}catch(h){i.destroy(h);}}),o.apply(this,arguments)}return i}Zl.exports=hm;});var Ws=p((k2,ff)=>{ff.exports=q;var xt;q.ReadableState=nf;y("events").EventEmitter;var rf=function(e,r){return e.listeners(r).length},Jt=bs(),mn=y("buffer").Buffer,dm=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function pm(t){return mn.from(t)}function gm(t){return mn.isBuffer(t)||t instanceof dm}var Ls=y("util"),S;Ls&&Ls.debuglog?S=Ls.debuglog("stream"):S=function(){};var mm=Ul(),Fs=Es(),vm=Ss(),ym=vm.getHighWaterMark,vn=Le().codes,_m=vn.ERR_INVALID_ARG_TYPE,wm=vn.ERR_STREAM_PUSH_AFTER_EOF,bm=vn.ERR_METHOD_NOT_IMPLEMENTED,xm=vn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Et,Is,ks;bt()(q,Jt);var Kt=Fs.errorOrDestroy,Ds=["error","close","destroy","pause","resume"];function Em(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]];}function nf(t,e,r){xt=xt||rt(),t=t||{},typeof r!="boolean"&&(r=e instanceof xt),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=ym(this,t,"readableHighWaterMark",r),this.buffer=new mm,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Et||(Et=Ns().StringDecoder),this.decoder=new Et(t.encoding),this.encoding=t.encoding);}function q(t){if(xt=xt||rt(),!(this instanceof q))return new q(t);var e=this instanceof xt;this._readableState=new nf(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Jt.call(this);}Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e);}});q.prototype.destroy=Fs.destroy;q.prototype._undestroy=Fs.undestroy;q.prototype._destroy=function(t,e){e(t);};q.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=mn.from(t,e),e=""),n=!0),sf(this,t,e,!1,n)};q.prototype.unshift=function(t){return sf(this,t,null,!0,!1)};function sf(t,e,r,n,i){S("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Mm(t,s);else {var a;if(i||(a=Sm(s,e)),a)Kt(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==mn.prototype&&(e=pm(e)),n)s.endEmitted?Kt(t,new xm):$s(t,s,e,!0);else if(s.ended)Kt(t,new wm);else {if(s.destroyed)return !1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?$s(t,s,e,!1):Bs(t,s)):$s(t,s,e,!1);}else n||(s.reading=!1,Bs(t,s));}return !s.ended&&(s.length<s.highWaterMark||s.length===0)}function $s(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&yn(t)),Bs(t,e);}function Sm(t,e){var r;return !gm(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new _m("chunk",["string","Buffer","Uint8Array"],e)),r}q.prototype.isPaused=function(){return this._readableState.flowing===!1};q.prototype.setEncoding=function(t){Et||(Et=Ns().StringDecoder);var e=new Et(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var ef=1073741824;function Om(t){return t>=ef?t=ef:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function tf(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Om(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}q.prototype.read=function(t){S("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return S("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Us(this):yn(this),null;if(t=tf(t,e),t===0&&e.ended)return e.length===0&&Us(this),null;var n=e.needReadable;S("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,S("length less than watermark",n)),e.ended||e.reading?(n=!1,S("reading or ended",n)):n&&(S("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=tf(r,e)));var i;return t>0?i=uf(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Us(this)),i!==null&&this.emit("data",i),i};function Mm(t,e){if(S("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length);}e.ended=!0,e.sync?yn(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,af(t)));}}function yn(t){var e=t._readableState;S("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(S("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(af,t));}function af(t){var e=t._readableState;S("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,js(t);}function Bs(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Tm,t,e));}function Tm(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(S("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1;}q.prototype._read=function(t){Kt(this,new bm("_read()"));};q.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,S("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,s=i?o:m;n.endEmitted?process.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(v,b){S("onunpipe"),v===r&&b&&b.hasUnpiped===!1&&(b.hasUnpiped=!0,f());}function o(){S("onend"),t.end();}var l=qm(r);t.on("drain",l);var u=!1;function f(){S("cleanup"),t.removeListener("close",c),t.removeListener("finish",g),t.removeListener("drain",l),t.removeListener("error",d),t.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",m),r.removeListener("data",h),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l();}r.on("data",h);function h(v){S("ondata");var b=t.write(v);S("dest.write",b),b===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&lf(n.pipes,t)!==-1)&&!u&&(S("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause());}function d(v){S("onerror",v),m(),t.removeListener("error",d),rf(t,"error")===0&&Kt(t,v);}Em(t,"error",d);function c(){t.removeListener("finish",g),m();}t.once("close",c);function g(){S("onfinish"),t.removeListener("close",c),m();}t.once("finish",g);function m(){S("unpipe"),r.unpipe(t);}return t.emit("pipe",r),n.flowing||(S("pipe resume"),r.resume()),t};function qm(t){return function(){var r=t._readableState;S("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&rf(t,"data")&&(r.flowing=!0,js(t));}}q.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=lf(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};q.prototype.on=function(t,e){var r=Jt.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,S("on readable",n.length,n.reading),n.length?yn(this):n.reading||process.nextTick(Am,this)),r};q.prototype.addListener=q.prototype.on;q.prototype.removeListener=function(t,e){var r=Jt.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(of,this),r};q.prototype.removeAllListeners=function(t){var e=Jt.prototype.removeAllListeners.apply(this,arguments);return (t==="readable"||t===void 0)&&process.nextTick(of,this),e};function of(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume();}function Am(t){S("readable nexttick read 0"),t.read(0);}q.prototype.resume=function(){var t=this._readableState;return t.flowing||(S("resume"),t.flowing=!t.readableListening,Rm(this,t)),t.paused=!1,this};function Rm(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Pm,t,e));}function Pm(t,e){S("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),js(t),e.flowing&&!e.reading&&t.read(0);}q.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function js(t){var e=t._readableState;for(S("flow",e.flowing);e.flowing&&t.read()!==null;);}q.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(S("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a);}e.push(null);}),t.on("data",function(a){if(S("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var o=e.push(a);o||(n=!0,t.pause());}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var s=0;s<Ds.length;s++)t.on(Ds[s],this.emit.bind(this,Ds[s]));return this._read=function(a){S("wrapped _read",a),n&&(n=!1,t.resume());},this};typeof Symbol=="function"&&(q.prototype[Symbol.asyncIterator]=function(){return Is===void 0&&(Is=Kl()),Is(this)});Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e);}});q._fromList=uf;Object.defineProperty(q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function uf(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Us(t){var e=t._readableState;S("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Nm,e,t));}function Nm(t,e){if(S("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy();}}typeof Symbol=="function"&&(q.from=function(t,e){return ks===void 0&&(ks=Ql()),ks(q,t,e)});function lf(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return -1}});var rt=p((D2,hf)=>{var Cm=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};hf.exports=de;var cf=Ws(),zs=bn();bt()(de,cf);for(Vs=Cm(zs.prototype),_n=0;_n<Vs.length;_n++)wn=Vs[_n],de.prototype[wn]||(de.prototype[wn]=zs.prototype[wn]);var Vs,wn,_n;function de(t){if(!(this instanceof de))return new de(t);cf.call(this,t),zs.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Lm)));}Object.defineProperty(de.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(de.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(de.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Lm(){this._writableState.ended||process.nextTick(Im,this);}function Im(t){t.end();}Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e);}});});var bn=p(($2,yf)=>{yf.exports=C;function pf(t){var e=this;this.next=null,this.entry=null,this.finish=function(){uv(e,t);};}var St;C.WritableState=Zt;var km={deprecate:Ol()},gf=bs(),En=y("buffer").Buffer,Dm=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function $m(t){return En.from(t)}function Um(t){return En.isBuffer(t)||t instanceof Dm}var Gs=Es(),Bm=Ss(),Fm=Bm.getHighWaterMark,$e=Le().codes,jm=$e.ERR_INVALID_ARG_TYPE,Wm=$e.ERR_METHOD_NOT_IMPLEMENTED,Vm=$e.ERR_MULTIPLE_CALLBACK,zm=$e.ERR_STREAM_CANNOT_PIPE,Hm=$e.ERR_STREAM_DESTROYED,Gm=$e.ERR_STREAM_NULL_VALUES,Ym=$e.ERR_STREAM_WRITE_AFTER_END,Km=$e.ERR_UNKNOWN_ENCODING,Ot=Gs.errorOrDestroy;bt()(C,gf);function Jm(){}function Zt(t,e,r){St=St||rt(),t=t||{},typeof r!="boolean"&&(r=e instanceof St),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Fm(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){nv(e,i);},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new pf(this);}Zt.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Zt.prototype,"buffer",{get:km.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")});}catch{}})();var xn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(xn=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return xn.call(this,e)?!0:this!==C?!1:e&&e._writableState instanceof Zt}})):xn=function(e){return e instanceof this};function C(t){St=St||rt();var e=this instanceof St;if(!e&&!xn.call(C,this))return new C(t);this._writableState=new Zt(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),gf.call(this);}C.prototype.pipe=function(){Ot(this,new zm);};function Xm(t,e){var r=new Ym;Ot(t,r),process.nextTick(e,r);}function Zm(t,e,r,n){var i;return r===null?i=new Gm:typeof r!="string"&&!e.objectMode&&(i=new jm("chunk",["string","Buffer"],r)),i?(Ot(t,i),process.nextTick(n,i),!1):!0}C.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&Um(t);return s&&!En.isBuffer(t)&&(t=$m(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Jm),n.ending?Xm(this,r):(s||Zm(this,n,t,r))&&(n.pendingcb++,i=ev(this,n,s,t,e,r)),i};C.prototype.cork=function(){this._writableState.corked++;};C.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&mf(this,t));};C.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Km(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Qm(t,e,r){return !t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=En.from(e,r)),e}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ev(t,e,r,n,i,s){if(!r){var a=Qm(e,n,i);n!==a&&(r=!0,i="buffer",n=a);}var o=e.objectMode?1:n.length;e.length+=o;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1;}else Hs(t,e,!1,o,n,i,s);return l}function Hs(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Hm("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1;}function tv(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Xt,t,e),t._writableState.errorEmitted=!0,Ot(t,n)):(i(n),t._writableState.errorEmitted=!0,Ot(t,n),Xt(t,e));}function rv(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0;}function nv(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Vm;if(rv(r),e)tv(t,r,n,e,i);else {var s=vf(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&mf(t,r),n?process.nextTick(df,t,r,s,i):df(t,r,s,i);}}function df(t,e,r,n){r||iv(t,e),e.pendingcb--,n(),Xt(t,e);}function iv(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));}function mf(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,o=!0;r;)i[a]=r,r.isBuf||(o=!1),r=r.next,a+=1;i.allBuffers=o,Hs(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new pf(e),e.bufferedRequestCount=0;}else {for(;r;){var l=r.chunk,u=r.encoding,f=r.callback,h=e.objectMode?1:l.length;if(Hs(t,e,!1,h,l,u,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null);}e.bufferedRequest=r,e.bufferProcessing=!1;}C.prototype._write=function(t,e,r){r(new Wm("_write()"));};C.prototype._writev=null;C.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||ov(this,n,r),this};Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function vf(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function sv(t,e){t._final(function(r){e.pendingcb--,r&&Ot(t,r),e.prefinished=!0,t.emit("prefinish"),Xt(t,e);});}function av(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(sv,t,e)):(e.prefinished=!0,t.emit("prefinish")));}function Xt(t,e){var r=vf(e);if(r&&(av(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy();}return r}function ov(t,e,r){e.ending=!0,Xt(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1;}function uv(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next;}e.corkedRequestsFree.next=t;}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e);}});C.prototype.destroy=Gs.destroy;C.prototype._undestroy=Gs.undestroy;C.prototype._destroy=function(t,e){e(t);};});var Ks=p((U2,wf)=>{var lv=y("util"),{LEVEL:Ys}=k(),_f=nt(),Qt=wf.exports=function(e={}){if(_f.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport);}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError));};lv.inherits(Qt,_f);Qt.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[Ys]])&&this.transport.log(e[Ys],e.message,e,this._nop),n(null);};Qt.prototype._writev=function(e,r){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[Ys],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return r(null)};Qt.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`));};Qt.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null);};});var nt=p((B2,Js)=>{var fv=y("util"),bf=bn(),{LEVEL:xf}=k(),er=Js.exports=function(e={}){bf.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r;}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close());});};fv.inherits(er,bf);er.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[xf]]){if(e&&!this.format)return this.log(e,n);let s,a;try{a=this.format.transform(Object.assign({},e),this.format.options);}catch(o){s=o;}if(s||!a){if(n(),s)throw s;return}return this.log(a,n)}return this._writableState.sync=!1,n(null)};er.prototype._writev=function(e,r){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,s;try{s=this.format.transform(Object.assign({},e[n].chunk),this.format.options);}catch(a){i=a;}if(i||!s){if(e[n].callback(),i)throw r(null),i}else this.log(s,e[n].callback);}return r(null)};er.prototype._accept=function(e){let r=e.chunk;if(this.silent)return !1;let n=this.level||this.parent&&this.parent.level;return !!((r.exception===!0||!n||this.levels[n]>=this.levels[r[xf]])&&(this.handleExceptions||r.exception!==!0))};er.prototype._nop=function(){};Js.exports.LegacyTransportStream=Ks();});var Of=p((j2,Sf)=>{var cv=y("os"),{LEVEL:Ef,MESSAGE:Mt}=k(),hv=nt();Sf.exports=class extends hv{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=e.eol||cv.EOL,this.setMaxListeners(30);}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[Ef]]){console._stderr?console._stderr.write(`${e[Mt]}${this.eol}`):console.error(e[Mt]),r&&r();return}else if(this.consoleWarnLevels[e[Ef]]){console._stderr?console._stderr.write(`${e[Mt]}${this.eol}`):console.warn(e[Mt]),r&&r();return}console._stdout?console._stdout.write(`${e[Mt]}${this.eol}`):console.log(e[Mt]),r&&r();}_stringArrayToSet(e,r){if(!e)return {};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(r);return n[i]=!0,n},{})}};});var On=p((Sn,Mf)=>{Object.defineProperty(Sn,"__esModule",{value:!0});Sn.default=dv;function dv(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}Mf.exports=Sn.default;});var qf=p((Mn,Tf)=>{Object.defineProperty(Mn,"__esModule",{value:!0});Mn.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};Tf.exports=Mn.default;});var Pf=p(Ue=>{Object.defineProperty(Ue,"__esModule",{value:!0});Ue.fallback=Af;Ue.wrap=Rf;var pv=Ue.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,gv=Ue.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,mv=Ue.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function Af(t){setTimeout(t,0);}function Rf(t){return (e,...r)=>t(()=>e(...r))}var tr;pv?tr=queueMicrotask:gv?tr=setImmediate:mv?tr=process.nextTick:tr=Af;Ue.default=Rf(tr);});var kf=p((Tn,If)=>{Object.defineProperty(Tn,"__esModule",{value:!0});Tn.default=xv;var vv=qf(),yv=Lf(vv),_v=Pf(),wv=Lf(_v),bv=it();function Lf(t){return t&&t.__esModule?t:{default:t}}function xv(t){return (0, bv.isAsync)(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return Nf(n,r)}:(0, yv.default)(function(e,r){var n;try{n=t.apply(this,e);}catch(i){return r(i)}if(n&&typeof n.then=="function")return Nf(n,r);r(null,n);})}function Nf(t,e){return t.then(r=>{Cf(e,null,r);},r=>{Cf(e,r&&r.message?r:new Error(r));})}function Cf(t,e,r){try{t(e,r);}catch(n){(0, wv.default)(i=>{throw i},n);}}If.exports=Tn.default;});var it=p(Ee=>{Object.defineProperty(Ee,"__esModule",{value:!0});Ee.isAsyncIterable=Ee.isAsyncGenerator=Ee.isAsync=void 0;var Ev=kf(),Sv=Ov(Ev);function Ov(t){return t&&t.__esModule?t:{default:t}}function Df(t){return t[Symbol.toStringTag]==="AsyncFunction"}function Mv(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function Tv(t){return typeof t[Symbol.asyncIterator]=="function"}function qv(t){if(typeof t!="function")throw new Error("expected a function");return Df(t)?(0, Sv.default)(t):t}Ee.default=qv;Ee.isAsync=Df;Ee.isAsyncGenerator=Mv;Ee.isAsyncIterable=Tv;});var Tt=p((qn,$f)=>{Object.defineProperty(qn,"__esModule",{value:!0});qn.default=Av;function Av(t,e=t.length){if(!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,s)=>{n[e-1]=(a,...o)=>{if(a)return s(a);i(o.length>1?o:o[0]);},t.apply(this,n);})}return r}$f.exports=qn.default;});var Bf=p((An,Uf)=>{Object.defineProperty(An,"__esModule",{value:!0});var Rv=On(),Pv=Xs(Rv),Nv=it(),Cv=Xs(Nv),Lv=Tt(),Iv=Xs(Lv);function Xs(t){return t&&t.__esModule?t:{default:t}}An.default=(0, Iv.default)((t,e,r)=>{var n=(0, Pv.default)(e)?[]:{};t(e,(i,s,a)=>{(0, Cv.default)(i)((o,...l)=>{l.length<2&&([l]=l),n[s]=l,a(o);});},i=>r(i,n));},3);Uf.exports=An.default;});var Zs=p((Rn,Ff)=>{Object.defineProperty(Rn,"__esModule",{value:!0});Rn.default=kv;function kv(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r);}}return Object.assign(e,t),e}Ff.exports=Rn.default;});var Wf=p((Pn,jf)=>{Object.defineProperty(Pn,"__esModule",{value:!0});Pn.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};jf.exports=Pn.default;});var Hf=p((Nn,zf)=>{Object.defineProperty(Nn,"__esModule",{value:!0});Nn.default=Vv;var Dv=On(),$v=Vf(Dv),Uv=Wf(),Bv=Vf(Uv);function Vf(t){return t&&t.__esModule?t:{default:t}}function Fv(t){var e=-1,r=t.length;return function(){return ++e<r?{value:t[e],key:e}:null}}function jv(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function Wv(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var s=e[++r];return s==="__proto__"?i():r<n?{value:t[s],key:s}:null}}function Vv(t){if((0, $v.default)(t))return Fv(t);var e=(0, Bv.default)(t);return e?jv(e):Wv(t)}zf.exports=Nn.default;});var Qs=p((Cn,Gf)=>{Object.defineProperty(Cn,"__esModule",{value:!0});Cn.default=zv;function zv(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e);}}Gf.exports=Cn.default;});var In=p((Ln,Yf)=>{Object.defineProperty(Ln,"__esModule",{value:!0});var Hv={};Ln.default=Hv;Yf.exports=Ln.default;});var Jf=p((kn,Kf)=>{Object.defineProperty(kn,"__esModule",{value:!0});kn.default=Jv;var Gv=In(),Yv=Kv(Gv);function Kv(t){return t&&t.__esModule?t:{default:t}}function Jv(t,e,r,n){let i=!1,s=!1,a=!1,o=0,l=0;function u(){o>=e||a||i||(a=!0,t.next().then(({value:d,done:c})=>{if(!(s||i)){if(a=!1,c){i=!0,o<=0&&n(null);return}o++,r(d,l,f),l++,u();}}).catch(h));}function f(d,c){if(o-=1,!s){if(d)return h(d);if(d===!1){i=!0,s=!0;return}if(c===Yv.default||i&&o<=0)return i=!0,n(null);u();}}function h(d){s||(a=!1,i=!0,n(d));}u();}Kf.exports=kn.default;});var ec=p((Dn,Qf)=>{Object.defineProperty(Dn,"__esModule",{value:!0});var Xv=Zs(),Zv=rr(Xv),Qv=Hf(),ey=rr(Qv),ty=Qs(),ry=rr(ty),Xf=it(),ny=Jf(),Zf=rr(ny),iy=In(),sy=rr(iy);function rr(t){return t&&t.__esModule?t:{default:t}}Dn.default=t=>(e,r,n)=>{if(n=(0, Zv.default)(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0, Xf.isAsyncGenerator)(e))return (0, Zf.default)(e,t,r,n);if((0, Xf.isAsyncIterable)(e))return (0, Zf.default)(e[Symbol.asyncIterator](),t,r,n);var i=(0, ey.default)(e),s=!1,a=!1,o=0,l=!1;function u(h,d){if(!a)if(o-=1,h)s=!0,n(h);else if(h===!1)s=!0,a=!0;else {if(d===sy.default||s&&o<=0)return s=!0,n(null);l||f();}}function f(){for(l=!0;o<t&&!s;){var h=i();if(h===null){s=!0,o<=0&&n(null);return}o+=1,r(h.value,h.key,(0, ry.default)(u));}l=!1;}f();};Qf.exports=Dn.default;});var ta=p(($n,tc)=>{Object.defineProperty($n,"__esModule",{value:!0});var ay=ec(),oy=ea(ay),uy=it(),ly=ea(uy),fy=Tt(),cy=ea(fy);function ea(t){return t&&t.__esModule?t:{default:t}}function hy(t,e,r,n){return (0, oy.default)(e)(t,(0, ly.default)(r),n)}$n.default=(0, cy.default)(hy,4);tc.exports=$n.default;});var ic=p((Un,nc)=>{Object.defineProperty(Un,"__esModule",{value:!0});var dy=ta(),py=rc(dy),gy=Tt(),my=rc(gy);function rc(t){return t&&t.__esModule?t:{default:t}}function vy(t,e,r){return (0, py.default)(t,1,e,r)}Un.default=(0, my.default)(vy,3);nc.exports=Un.default;});var oc=p((Bn,ac)=>{Object.defineProperty(Bn,"__esModule",{value:!0});Bn.default=xy;var yy=Bf(),_y=sc(yy),wy=ic(),by=sc(wy);function sc(t){return t&&t.__esModule?t:{default:t}}function xy(t,e){return (0, _y.default)(by.default,t,e)}ac.exports=Bn.default;});var ra=p((z2,lc)=>{lc.exports=Se;var Fn=Le().codes,Ey=Fn.ERR_METHOD_NOT_IMPLEMENTED,Sy=Fn.ERR_MULTIPLE_CALLBACK,Oy=Fn.ERR_TRANSFORM_ALREADY_TRANSFORMING,My=Fn.ERR_TRANSFORM_WITH_LENGTH_0,jn=rt();bt()(Se,jn);function Ty(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Sy);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark);}function Se(t){if(!(this instanceof Se))return new Se(t);jn.call(this,t),this._transformState={afterTransform:Ty.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",qy);}function qy(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){uc(t,e,r);}):uc(this,null,null);}Se.prototype.push=function(t,e){return this._transformState.needTransform=!1,jn.prototype.push.call(this,t,e)};Se.prototype._transform=function(t,e,r){r(new Ey("_transform()"));};Se.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark);}};Se.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0;};Se.prototype._destroy=function(t,e){jn.prototype._destroy.call(this,t,function(r){e(r);});};function uc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new My;if(t._transformState.transforming)throw new Oy;return t.push(null)}});var hc=p((H2,cc)=>{cc.exports=nr;var fc=ra();bt()(nr,fc);function nr(t){if(!(this instanceof nr))return new nr(t);fc.call(this,t);}nr.prototype._transform=function(t,e,r){r(null,t);};});var vc=p((G2,mc)=>{var na;function Ay(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments));}}var gc=Le().codes,Ry=gc.ERR_MISSING_ARGS,Py=gc.ERR_STREAM_DESTROYED;function dc(t){if(t)throw t}function Ny(t){return t.setHeader&&typeof t.abort=="function"}function Cy(t,e,r,n){n=Ay(n);var i=!1;t.on("close",function(){i=!0;}),na===void 0&&(na=dn()),na(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n();});var s=!1;return function(a){if(!i&&!s){if(s=!0,Ny(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new Py("pipe"));}}}function pc(t){t();}function Ly(t,e){return t.pipe(e)}function Iy(t){return !t.length||typeof t[t.length-1]!="function"?dc:t.pop()}function ky(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Iy(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Ry("streams");var i,s=e.map(function(a,o){var l=o<e.length-1,u=o>0;return Cy(a,l,u,function(f){i||(i=f),f&&s.forEach(pc),!l&&(s.forEach(pc),n(i));})});return e.reduce(Ly)}mc.exports=ky;});var qt=p((re,sr)=>{var ir=y("stream");process.env.READABLE_STREAM==="disable"&&ir?(sr.exports=ir.Readable,Object.assign(sr.exports,ir),sr.exports.Stream=ir):(re=sr.exports=Ws(),re.Stream=ir||re,re.Readable=re,re.Writable=bn(),re.Duplex=rt(),re.Transform=ra(),re.PassThrough=hc(),re.finished=dn(),re.pipeline=vc());});var fa=p((Y2,_c)=>{var At=[],ar=[],ia=function(){};function aa(t){return ~At.indexOf(t)?!1:(At.push(t),!0)}function oa(t){ia=t;}function Dy(t){for(var e=[],r=0;r<At.length;r++){if(At[r].async){e.push(At[r]);continue}if(At[r](t))return !0}return e.length?new Promise(function(i){Promise.all(e.map(function(a){return a(t)})).then(function(a){i(a.some(Boolean));});}):!1}function ua(t){return ~ar.indexOf(t)?!1:(ar.push(t),!0)}function sa(){ia.apply(ia,arguments);}function yc(t){for(var e=0;e<ar.length;e++)t=ar[e].apply(ar[e],arguments);return t}function la(t,e){var r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}function $y(t){return t.enabled=!1,t.modify=ua,t.set=oa,t.use=aa,la(function(){return !1},t)}function Uy(t){function e(){var r=Array.prototype.slice.call(arguments,0);return sa.call(sa,t,yc(r,t)),!0}return t.enabled=!0,t.modify=ua,t.set=oa,t.use=aa,la(e,t)}_c.exports=function(e){return e.introduce=la,e.enabled=Dy,e.process=yc,e.modify=ua,e.write=sa,e.nope=$y,e.yep=Uy,e.set=oa,e.use=aa,e};});var bc=p((K2,wc)=>{var By=fa(),Fy=By(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});wc.exports=Fy;});var Ec=p((J2,xc)=>{xc.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};});var Oc=p((X2,Sc)=>{Sc.exports=function(e){return !e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")};});var qc=p((Z2,Tc)=>{var jy=Oc(),Wy=Array.prototype.concat,Vy=Array.prototype.slice,Mc=Tc.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var s=e[n];jy(s)?r=Wy.call(r,Vy.call(s)):r.push(s);}return r};Mc.wrap=function(t){return function(){return t(Mc(arguments))}};});var Nc=p((Q2,Pc)=>{var or=Ec(),ur=qc(),Ac=Object.hasOwnProperty,Rc=Object.create(null);for(Wn in or)Ac.call(or,Wn)&&(Rc[or[Wn]]=Wn);var Wn,Z=Pc.exports={to:{},get:{}};Z.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Z.get.hsl(t),n="hsl";break;case"hwb":r=Z.get.hwb(t),n="hwb";break;default:r=Z.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Z.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,a=[0,0,0,1],o,l,u;if(o=t.match(r)){for(u=o[2],o=o[1],l=0;l<3;l++){var f=l*2;a[l]=parseInt(o.slice(f,f+2),16);}u&&(a[3]=parseInt(u,16)/255);}else if(o=t.match(e)){for(o=o[1],u=o[3],l=0;l<3;l++)a[l]=parseInt(o[l]+o[l],16);u&&(a[3]=parseInt(u+u,16)/255);}else if(o=t.match(n)){for(l=0;l<3;l++)a[l]=parseInt(o[l+1],0);o[4]&&(o[5]?a[3]=parseFloat(o[4])*.01:a[3]=parseFloat(o[4]));}else if(o=t.match(i)){for(l=0;l<3;l++)a[l]=Math.round(parseFloat(o[l+1])*2.55);o[4]&&(o[5]?a[3]=parseFloat(o[4])*.01:a[3]=parseFloat(o[4]));}else return (o=t.match(s))?o[1]==="transparent"?[0,0,0,0]:Ac.call(or,o[1])?(a=or[o[1]],a[3]=1,a):null:null;for(l=0;l<3;l++)a[l]=Be(a[l],0,255);return a[3]=Be(a[3],0,1),a};Z.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=Be(parseFloat(r[2]),0,100),a=Be(parseFloat(r[3]),0,100),o=Be(isNaN(n)?1:n,0,1);return [i,s,a,o]}return null};Z.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,s=Be(parseFloat(r[2]),0,100),a=Be(parseFloat(r[3]),0,100),o=Be(isNaN(n)?1:n,0,1);return [i,s,a,o]}return null};Z.to.hex=function(){var t=ur(arguments);return "#"+Vn(t[0])+Vn(t[1])+Vn(t[2])+(t[3]<1?Vn(Math.round(t[3]*255)):"")};Z.to.rgb=function(){var t=ur(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Z.to.rgb.percent=function(){var t=ur(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Z.to.hsl=function(){var t=ur(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Z.to.hwb=function(){var t=ur(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Z.to.keyword=function(t){return Rc[t.slice(0,3)]};function Be(t,e,r){return Math.min(Math.max(e,t),r)}function Vn(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var Lc=p((eE,Cc)=>{Cc.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};});var ca=p((tE,$c)=>{var st=Lc(),Dc={};for(zn in st)st.hasOwnProperty(zn)&&(Dc[st[zn]]=zn);var zn,_=$c.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(H in _)if(_.hasOwnProperty(H)){if(!("channels"in _[H]))throw new Error("missing channels property: "+H);if(!("labels"in _[H]))throw new Error("missing channel labels property: "+H);if(_[H].labels.length!==_[H].channels)throw new Error("channel and label counts mismatch: "+H);Ic=_[H].channels,kc=_[H].labels,delete _[H].channels,delete _[H].labels,Object.defineProperty(_[H],"channels",{value:Ic}),Object.defineProperty(_[H],"labels",{value:kc});}var Ic,kc,H;_.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=s-i,o,l,u;return s===i?o=0:e===s?o=(r-n)/a:r===s?o=2+(n-e)/a:n===s&&(o=4+(e-r)/a),o=Math.min(o*60,360),o<0&&(o+=360),u=(i+s)/2,s===i?l=0:u<=.5?l=a/(s+i):l=a/(2-s-i),[o,l*100,u*100]};_.rgb.hsv=function(t){var e,r,n,i,s,a=t[0]/255,o=t[1]/255,l=t[2]/255,u=Math.max(a,o,l),f=u-Math.min(a,o,l),h=function(d){return (u-d)/6/f+1/2};return f===0?i=s=0:(s=f/u,e=h(a),r=h(o),n=h(l),a===u?i=n-r:o===u?i=1/3+e-n:l===u&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]};_.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=_.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};_.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,a,o;return o=Math.min(1-e,1-r,1-n),i=(1-e-o)/(1-o)||0,s=(1-r-o)/(1-o)||0,a=(1-n-o)/(1-o)||0,[i*100,s*100,a*100,o*100]};function zy(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}_.rgb.keyword=function(t){var e=Dc[t];if(e)return e;var r=1/0,n;for(var i in st)if(st.hasOwnProperty(i)){var s=st[i],a=zy(t,s);a<r&&(r=a,n=i);}return n};_.keyword.rgb=function(t){return st[t]};_.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,a=e*.0193+r*.1192+n*.9505;return [i*100,s*100,a*100]};_.rgb.lab=function(t){var e=_.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,a,o;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,a=500*(r-n),o=200*(n-i),[s,a,o]};_.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,a,o,l;if(r===0)return l=n*255,[l,l,l];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,o=[0,0,0];for(var u=0;u<3;u++)a=e+1/3*-(u-1),a<0&&a++,a>1&&a--,6*a<1?l=i+(s-i)*6*a:2*a<1?l=s:3*a<2?l=i+(s-i)*(2/3-a)*6:l=i,o[u]=l*255;return o};_.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),a,o;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r),[e,a*100,o*100]};_.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),a=255*n*(1-r),o=255*n*(1-r*s),l=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return [n,l,a];case 1:return [o,n,a];case 2:return [a,n,l];case 3:return [a,o,n];case 4:return [l,a,n];case 5:return [n,a,o]}};_.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,a,o;return o=(2-r)*n,s=(2-r)*i,a=r*i,a/=s<=1?s:2-s,a=a||0,o/=2,[e,a*100,o*100]};_.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,a,o,l;i>1&&(r/=i,n/=i),s=Math.floor(6*e),a=1-n,o=6*e-s,s&1&&(o=1-o),l=r+o*(a-r);var u,f,h;switch(s){default:case 6:case 0:u=a,f=l,h=r;break;case 1:u=l,f=a,h=r;break;case 2:u=r,f=a,h=l;break;case 3:u=r,f=l,h=a;break;case 4:u=l,f=r,h=a;break;case 5:u=a,f=r,h=l;break}return [u*255,f*255,h*255]};_.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,a,o;return s=1-Math.min(1,e*(1-i)+i),a=1-Math.min(1,r*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),[s*255,a*255,o*255]};_.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,a;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,a=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),[i*255,s*255,a*255]};_.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,a;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),a=200*(r-n),[i,s,a]};_.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,a;s=(e+16)/116,i=r/500+s,a=s-n/200;var o=Math.pow(s,3),l=Math.pow(i,3),u=Math.pow(a,3);return s=o>.008856?o:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,a=u>.008856?u:(a-16/116)/7.787,i*=95.047,s*=100,a*=108.883,[i,s,a]};_.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,a;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),a=Math.sqrt(r*r+n*n),[e,a,s]};_.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,a;return a=n/360*2*Math.PI,i=r*Math.cos(a),s=r*Math.sin(a),[e,i,s]};_.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:_.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};_.hsv.ansi16=function(t){return _.rgb.ansi16(_.hsv.rgb(t),t[2])};_.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};_.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return [n,i,s]};_.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return [e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return [n,i,s]};_.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return "000000".substring(r.length)+r};_.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return [0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(o){return o+o}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,a=n&255;return [i,s,a]};_.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),a=i-s,o,l;return a<1?o=s/(1-a):o=0,a<=0?l=0:i===e?l=(r-n)/a%6:i===r?l=2+(n-e)/a:l=4+(e-r)/a+4,l/=6,l%=1,[l*360,a*100,o*100]};_.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};_.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};_.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return [n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,a=s%1,o=1-a,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=o,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=o,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=o;}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};_.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};_.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};_.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return [t[0],(n-e)*100,(1-n)*100]};_.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};_.apple.rgb=function(t){return [t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};_.rgb.apple=function(t){return [t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};_.gray.rgb=function(t){return [t[0]/100*255,t[0]/100*255,t[0]/100*255]};_.gray.hsl=_.gray.hsv=function(t){return [0,0,t[0]]};_.gray.hwb=function(t){return [0,100,t[0]]};_.gray.cmyk=function(t){return [0,0,0,t[0]]};_.gray.lab=function(t){return [t[0],0,0]};_.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return "000000".substring(n.length)+n};_.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return [e/255*100]};});var Bc=p((rE,Uc)=>{var Hn=ca();function Hy(){for(var t={},e=Object.keys(Hn),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Gy(t){var e=Hy(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(Hn[n]),s=i.length,a=0;a<s;a++){var o=i[a],l=e[o];l.distance===-1&&(l.distance=e[n].distance+1,l.parent=n,r.unshift(o));}return e}function Yy(t,e){return function(r){return e(t(r))}}function Ky(t,e){for(var r=[e[t].parent,t],n=Hn[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=Yy(Hn[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}Uc.exports=function(t){for(var e=Gy(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var a=n[s],o=e[a];o.parent!==null&&(r[a]=Ky(a,e));}return r};});var jc=p((nE,Fc)=>{var ha=ca(),Jy=Bc(),Rt={},Xy=Object.keys(ha);function Zy(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return "conversion"in t&&(e.conversion=t.conversion),e}function Qy(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return "conversion"in t&&(e.conversion=t.conversion),e}Xy.forEach(function(t){Rt[t]={},Object.defineProperty(Rt[t],"channels",{value:ha[t].channels}),Object.defineProperty(Rt[t],"labels",{value:ha[t].labels});var e=Jy(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];Rt[t][n]=Qy(i),Rt[t][n].raw=Zy(i);});});Fc.exports=Rt;});var zc=p((iE,Vc)=>{var lr=Nc(),Q=jc(),ga=[].slice,Wc=["keyword","gray","hex"],da={};Object.keys(Q).forEach(function(t){da[ga.call(Q[t].labels).sort().join("")]=t;});var Gn={};function j(t,e){if(!(this instanceof j))return new j(t,e);if(e&&e in Wc&&(e=null),e&&!(e in Q))throw new Error("Unknown model: "+e);var r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof j)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var i=lr.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=Q[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1;}else if(t.length){this.model=e||"rgb",n=Q[this.model].channels;var s=ga.call(t,0,n);this.color=pa(s,n),this.valpha=typeof t[n]=="number"?t[n]:1;}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else {this.valpha=1;var a=Object.keys(t);"alpha"in t&&(a.splice(a.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var o=a.sort().join("");if(!(o in da))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=da[o];var l=Q[this.model].labels,u=[];for(r=0;r<l.length;r++)u.push(t[l[r]]);this.color=pa(u);}if(Gn[this.model])for(n=Q[this.model].channels,r=0;r<n;r++){var f=Gn[this.model][r];f&&(this.color[r]=f(this.color[r]));}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this);}j.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in lr.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var r=e.valpha===1?e.color:e.color.concat(this.valpha);return lr.to[e.model](r)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return lr.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=Q[this.model].channels,r=Q[this.model].labels,n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new j(this.color.map(t_(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new j(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:L("rgb",0,D(255)),green:L("rgb",1,D(255)),blue:L("rgb",2,D(255)),hue:L(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return (t%360+360)%360}),saturationl:L("hsl",1,D(100)),lightness:L("hsl",2,D(100)),saturationv:L("hsv",1,D(100)),value:L("hsv",2,D(100)),chroma:L("hcg",1,D(100)),gray:L("hcg",2,D(100)),white:L("hwb",1,D(100)),wblack:L("hwb",2,D(100)),cyan:L("cmyk",0,D(100)),magenta:L("cmyk",1,D(100)),yellow:L("cmyk",2,D(100)),black:L("cmyk",3,D(100)),x:L("xyz",0,D(100)),y:L("xyz",1,D(100)),z:L("xyz",2,D(100)),l:L("lab",0,D(100)),a:L("lab",1),b:L("lab",2),keyword:function(t){return arguments.length?new j(t):Q[this.model].keyword(this.color)},hex:function(t){return arguments.length?new j(t):lr.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return (t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var n=t[r]/255;e[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return !this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return j.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,s=2*i-1,a=r.alpha()-n.alpha(),o=((s*a===-1?s:(s+a)/(1+s*a))+1)/2,l=1-o;return j.rgb(o*r.red()+l*n.red(),o*r.green()+l*n.green(),o*r.blue()+l*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};Object.keys(Q).forEach(function(t){if(Wc.indexOf(t)===-1){var e=Q[t].channels;j.prototype[t]=function(){if(this.model===t)return new j(this);if(arguments.length)return new j(arguments,t);var r=typeof arguments[e]=="number"?e:this.valpha;return new j(r_(Q[this.model][t].raw(this.color)).concat(r),t)},j[t]=function(r){return typeof r=="number"&&(r=pa(ga.call(arguments),e)),new j(r,t)};}});function e_(t,e){return Number(t.toFixed(e))}function t_(t){return function(e){return e_(e,t)}}function L(t,e,r){return t=Array.isArray(t)?t:[t],t.forEach(function(n){(Gn[n]||(Gn[n]=[]))[e]=r;}),t=t[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function D(t){return function(e){return Math.max(0,Math.min(t,e))}}function r_(t){return Array.isArray(t)?t:[t]}function pa(t,e){for(var r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}Vc.exports=j;});var Gc=p((sE,Hc)=>{Hc.exports=function(e){for(var r=0,n=0;r<e.length;n=e.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return "#"+Array(6-i.length+1).join("0")+i};});var Xc=p((aE,Jc)=>{var Yc=zc(),Kc=Gc();Jc.exports=function(e,r){var n=e.split(r||":"),i=Kc(n[0]);if(!n.length)return i;for(var s=0,a=n.length-1;s<a;s++)i=Yc(i).mix(Yc(Kc(n[s+1]))).saturate(1).hex();return i};});var Qc=p((oE,Zc)=>{function oe(t,e){if(e)return new oe(t).style(e);if(!(this instanceof oe))return new oe(t);this.text=t;}oe.prototype.prefix="\x1B[";oe.prototype.suffix="m";oe.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return [parseInt(r,16),parseInt(n,16),parseInt(i,16)]};oe.prototype.rgb=function(e,r,n){var i=e/255*5,s=r/255*5,a=n/255*5;return this.ansi(i,s,a)};oe.prototype.ansi=function(e,r,n){var i=Math.round(e),s=Math.round(r),a=Math.round(n);return 16+i*36+s*6+a};oe.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};oe.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};Zc.exports=oe;});var th=p((uE,eh)=>{var n_=Xc(),i_=Qc();eh.exports=function(e,r){var n=r.namespace,i=r.colors!==!1?i_(n+":",n_(n)):n+":";return e[0]=i+" "+e[0],e};});var nh=p((lE,rh)=>{rh.exports=function(e,r){if(!r)return !1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return !1;continue}if(new RegExp("^"+r+"$").test(e))return !0}return !1};});var sh=p((fE,ih)=>{var s_=nh();ih.exports=function(e){return function(n){try{return s_(n,e())}catch{}return !1}};});var oh=p((cE,ah)=>{var a_=sh();ah.exports=a_(function(){return process.env.DEBUG||process.env.DIAGNOSTICS});});var lh=p((hE,uh)=>{uh.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e);}catch{}};});var ch=p((dE,fh)=>{var o_=fa(),u_=y("tty").isatty(1),Yn=o_(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:u_,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});Yn.modify(th());Yn.use(oh());Yn.set(lh());fh.exports=Yn;});var fr=p((pE,ma)=>{process.env.NODE_ENV==="production"?ma.exports=bc():ma.exports=ch();});var dh=p((gE,hh)=>{var va=y("fs"),{StringDecoder:l_}=y("string_decoder"),{Stream:f_}=qt();function c_(){}hh.exports=(t,e)=>{let r=Buffer.alloc(65536),n=new l_("utf8"),i=new f_,s="",a=0,o=0;return t.start===-1&&delete t.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close");},va.open(t.file,"a+","0644",(l,u)=>{if(l){e?e(l):i.emit("error",l),i.destroy();return}(function f(){if(i.destroyed){va.close(u,c_);return}return va.read(u,r,0,r.length,a,(h,d)=>{if(h){e?e(h):i.emit("error",h),i.destroy();return}if(!d)return s&&((t.start==null||o>t.start)&&(e?e(null,s):i.emit("line",s)),o++,s=""),setTimeout(f,1e3);let c=n.write(r.slice(0,d));e||i.emit("data",c),c=(s+c).split(/\n+/);let g=c.length-1,m=0;for(;m<g;m++)(t.start==null||o>t.start)&&(e?e(null,c[m]):i.emit("line",c[m])),o++;return s=c[g],a+=d,f()})})();}),e?i.destroy:i};});var mh=p((vE,gh)=>{var Oe=y("fs"),W=y("path"),h_=oc(),d_=y("zlib"),{MESSAGE:p_}=k(),{Stream:g_,PassThrough:ph}=qt(),m_=nt(),ue=fr()("winston:file"),v_=y("os"),y_=dh();gh.exports=class extends m_{constructor(e={}){super(e),this.name=e.name||"file";function r(n,...i){i.slice(1).forEach(s=>{if(e[s])throw new Error(`Cannot set ${s} and ${n} together`)});}if(this._stream=new ph,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?W.basename(e.filename):"winston.log",this.dirname=e.dirname||W.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=W.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=e.eol||v_.EOL,this.tailable=e.tailable||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.open();}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end());}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())));}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r);});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r);});return}let n=`${e[p_]}${this.eol}`,i=Buffer.byteLength(n);function s(){this._size+=i,this._pendingSize-=i,ue("logged %s %s",this._size,n),this.emit("logged",e),!this._opening&&this._needsNewFile()&&(this._rotate=!0,this._endStream(()=>this._rotateFile()));}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let a=this._stream.write(n,s.bind(this));return a?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r();})),ue("written",a,this._drain),this.finishIfEnding(),a}query(e,r){typeof e=="function"&&(r=e,e={}),e=h(e);let n=W.join(this.dirname,this.filename),i="",s=[],a=0,o=Oe.createReadStream(n,{encoding:"utf8"});o.on("error",d=>{if(o.readable&&o.destroy(),!!r)return d.code!=="ENOENT"?r(d):r(null,s)}),o.on("data",d=>{d=(i+d).split(/\n+/);let c=d.length-1,g=0;for(;g<c;g++)(!e.start||a>=e.start)&&l(d[g]),a++;i=d[c];}),o.on("close",()=>{i&&l(i,!0),e.order==="desc"&&(s=s.reverse()),r&&r(null,s);});function l(d,c){try{let g=JSON.parse(d);f(g)&&u(g);}catch(g){c||o.emit("error",g);}}function u(d){if(e.rows&&s.length>=e.rows&&e.order!=="desc"){o.readable&&o.destroy();return}e.fields&&(d=e.fields.reduce((c,g)=>(c[g]=d[g],c),{})),e.order==="desc"&&s.length>=e.rows&&s.shift(),s.push(d);}function f(d){if(!d||typeof d!="object")return;let c=new Date(d.timestamp);if(!(e.from&&c<e.from||e.until&&c>e.until||e.level&&e.level!==d.level))return !0}function h(d){return d=d||{},d.rows=d.rows||d.limit||10,d.start=d.start||0,d.until=d.until||new Date,typeof d.until!="object"&&(d.until=new Date(d.until)),d.from=d.from||d.until-24*60*60*1e3,typeof d.from!="object"&&(d.from=new Date(d.from)),d.order=d.order||"desc",d}}stream(e={}){let r=W.join(this.dirname,this.filename),n=new g_,i={file:r,start:e.start};return n.destroy=y_(i,(s,a)=>{if(s)return n.emit("error",s);try{n.emit("data",a),a=JSON.parse(a),n.emit("log",a);}catch(o){n.emit("error",o);}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);ue("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1;});})));}stat(e){let r=this._getFile(),n=W.join(this.dirname,r);Oe.stat(n,(i,s)=>{if(i&&i.code==="ENOENT")return ue("ENOENT\xA0ok",n),this.filename=r,e(null,0);if(i)return ue(`err ${i.code} ${n}`),e(i);if(!s||this._needsNewFile(s.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,s.size);});}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed");});}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e);}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e}_rotateFile(){this._incFile(()=>this.open());}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e();})):e();}_createStream(e){let r=W.join(this.dirname,this.filename);ue("create stream start",r,this.options);let n=Oe.createWriteStream(r,this.options).on("error",i=>ue(i)).on("close",()=>ue("close",n.path,n.bytesWritten)).on("open",()=>{ue("file open ok",r),this.emit("open",r),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new ph,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end());});if(ue("create stream ok",r),this.zippedArchive){let i=d_.createGzip();return i.pipe(n),i}return n}_incFile(e){ue("_incFile",this.filename);let r=W.extname(this._basename),n=W.basename(this._basename,r);this.tailable?this._checkMaxFilesTailable(r,n,e):(this._created+=1,this._checkMaxFilesIncrementing(r,n,e));}_getFile(){let e=W.extname(this._basename),r=W.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created,i=!this.tailable&&this._created?`${r}${n}${e}`:`${r}${e}`;return this.zippedArchive&&!this.tailable?`${i}.gz`:i}_checkMaxFilesIncrementing(e,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,s=i!==0?i:"",a=this.zippedArchive?".gz":"",o=`${r}${s}${e}${a}`,l=W.join(this.dirname,o);Oe.unlink(l,n);}_checkMaxFilesTailable(e,r,n){let i=[];if(!this.maxFiles)return;let s=this.zippedArchive?".gz":"";for(let a=this.maxFiles-1;a>1;a--)i.push(function(o,l){let u=`${r}${o-1}${e}${s}`,f=W.join(this.dirname,u);Oe.exists(f,h=>{if(!h)return l(null);u=`${r}${o}${e}${s}`,Oe.rename(f,W.join(this.dirname,u),l);});}.bind(this,a));h_(i,()=>{Oe.rename(W.join(this.dirname,`${r}${e}`),W.join(this.dirname,`${r}1${e}${s}`),n);});}_createLogDirIfNotExist(e){Oe.existsSync(e)||Oe.mkdirSync(e,{recursive:!0});}};});var yh=p((_E,vh)=>{var __=y("http"),w_=y("https"),{Stream:b_}=qt(),x_=nt();vh.exports=class extends x_{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.port||(this.port=this.ssl?443:80);}log(e,r){this._request(e,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e);}),r&&setImmediate(r);}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)},e.params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth),this._request(e,(n,i,s)=>{if(i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n)return r(n);if(typeof s=="string")try{s=JSON.parse(s);}catch(a){return r(a)}r(null,s);});}stream(e={}){let r=new b_;e={method:"stream",params:e},e.params.path&&(e.path=e.params.path,delete e.params.path),e.params.auth&&(e.auth=e.params.auth,delete e.params.auth);let n="",i=this._request(e);return r.destroy=()=>i.destroy(),i.on("data",s=>{s=(n+s).split(/\n+/);let a=s.length-1,o=0;for(;o<a;o++)try{r.emit("log",JSON.parse(s[o]));}catch(l){r.emit("error",l);}n=s[a];}),i.on("error",s=>r.emit("error",s)),r}_request(e,r){e=e||{};let n=e.auth||this.auth,i=e.path||this.path||"";delete e.auth,delete e.path;let s=Object.assign({},this.headers);n&&n.bearer&&(s.Authorization=`Bearer ${n.bearer}`);let a=(this.ssl?w_:__).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:s,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});a.on("error",r),a.on("response",o=>o.on("end",()=>r(null,o)).resume()),a.end(Buffer.from(JSON.stringify(e),"utf8"));}};});var ya=p((wE,_h)=>{var pe=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";pe.writable=t=>pe(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";pe.readable=t=>pe(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";pe.duplex=t=>pe.writable(t)&&pe.readable(t);pe.transform=t=>pe.duplex(t)&&typeof t._transform=="function";_h.exports=pe;});var bh=p((xE,wh)=>{var E_=ya(),{MESSAGE:S_}=k(),O_=y("os"),M_=nt();wh.exports=class extends M_{constructor(e={}){if(super(e),!e.stream||!E_(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=e.eol||O_.EOL;}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[S_]}${this.eol}`),r&&r();}};});var xh=p(cr=>{Object.defineProperty(cr,"Console",{configurable:!0,enumerable:!0,get(){return Of()}});Object.defineProperty(cr,"File",{configurable:!0,enumerable:!0,get(){return mh()}});Object.defineProperty(cr,"Http",{configurable:!0,enumerable:!0,get(){return yh()}});Object.defineProperty(cr,"Stream",{configurable:!0,enumerable:!0,get(){return bh()}});});var Jn=p(hr=>{var Kn=_s(),{configs:_a}=k();hr.cli=Kn.levels(_a.cli);hr.npm=Kn.levels(_a.npm);hr.syslog=Kn.levels(_a.syslog);hr.addColors=Kn.levels;});var Sh=p((Xn,Eh)=>{Object.defineProperty(Xn,"__esModule",{value:!0});var T_=On(),q_=at(T_),A_=In(),R_=at(A_),P_=ta(),N_=at(P_),C_=Zs(),L_=at(C_),I_=Qs(),k_=at(I_),D_=it(),$_=at(D_),U_=Tt(),B_=at(U_);function at(t){return t&&t.__esModule?t:{default:t}}function F_(t,e,r){r=(0, L_.default)(r);var n=0,i=0,{length:s}=t,a=!1;s===0&&r(null);function o(l,u){l===!1&&(a=!0),a!==!0&&(l?r(l):(++i===s||u===R_.default)&&r(null));}for(;n<s;n++)e(t[n],n,(0, k_.default)(o));}function j_(t,e,r){return (0, N_.default)(t,1/0,e,r)}function W_(t,e,r){var n=(0, q_.default)(t)?F_:j_;return n(t,(0, $_.default)(e),r)}Xn.default=(0, B_.default)(W_,3);Eh.exports=Xn.default;});var Mh=p((Zn,Oh)=>{Object.defineProperty(Zn,"__esModule",{value:!0});Zn.default=V_;function V_(t){return (e,r,n)=>t(e,n)}Oh.exports=Zn.default;});var ti=p((ei,Th)=>{Object.defineProperty(ei,"__esModule",{value:!0});var z_=Sh(),H_=Qn(z_),G_=Mh(),Y_=Qn(G_),K_=it(),J_=Qn(K_),X_=Tt(),Z_=Qn(X_);function Qn(t){return t&&t.__esModule?t:{default:t}}function Q_(t,e,r){return (0, H_.default)(t,(0, Y_.default)((0, J_.default)(e)),r)}ei.default=(0, Z_.default)(Q_,3);Th.exports=ei.default;});var Ah=p((OE,qh)=>{var e1=Object.prototype.toString;qh.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),n=e1.call(e).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"};});var wa=p((ME,Rh)=>{var t1=Ah();Rh.exports=function(e){var r=0,n;function i(){return r||(r=1,n=e.apply(this,arguments),e=null),n}return i.displayName=t1(e),i};});var ba=p(pr=>{pr.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(s,a){return a},Error.captureStackTrace(r,t||pr.get);var i=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};pr.parse=function(t){if(!t.stack)return [];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var s=null,a=null,o=null,l=null,u=null,f=i[5]==="native";if(i[1]){o=i[1];var h=o.lastIndexOf(".");if(o[h-1]=="."&&h--,h>0){s=o.substr(0,h),a=o.substr(h+1);var d=s.indexOf(".Module");d>0&&(o=o.substr(d+1),s=s.substr(0,d));}l=null;}a&&(l=s,u=a),a==="<anonymous>"&&(u=null,o=null);var c={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:o,typeName:l,methodName:u,columnNumber:parseInt(i[4],10)||null,native:f};return e._createParsedCallSite(c)}}).filter(function(n){return !!n})};function dr(t){for(var e in t)this[e]=t[e];}var r1=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],n1=["topLevel","eval","native","constructor"];r1.forEach(function(t){dr.prototype[t]=null,dr.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]};});n1.forEach(function(t){dr.prototype[t]=!1,dr.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]};});pr._createParsedCallSite=function(t){return new dr(t)};});var xa=p((AE,Ph)=>{var{Writable:i1}=qt();Ph.exports=class extends i1{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e;}_write(e,r,n){return e.exception?this.transport.log(e,n):(n(),!0)}};});var Sa=p((PE,Lh)=>{var Nh=y("os"),s1=ti(),Ea=fr()("winston:exception"),a1=wa(),Ch=ba(),o1=xa();Lh.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map;}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r);}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher));}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)));}getAllInfo(e){let{message:r}=e;return !r&&typeof e=="string"&&(r=e),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e.stack||"  No stack trace"].join(`
`),stack:e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return {pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return {loadavg:Nh.loadavg(),uptime:Nh.uptime()}}getTrace(e){return (e?Ch.parse(e):Ch.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new o1(e);this.handlers.set(e,r),this.logger.pipe(r);}}_uncaughtException(e){let r=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,s;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function a(){Ea("doExit",i),Ea("process._exiting",process._exiting),i&&!process._exiting&&(s&&clearTimeout(s),process.exit(1));}if(!n||n.length===0)return process.nextTick(a);s1(n,(o,l)=>{let u=a1(l),f=o.transport||o;function h(d){return ()=>{Ea(d),u();}}f._ending=!0,f.once("finish",h("finished")),f.once("error",h("error"));},()=>i&&a()),this.logger.log(r),i&&(s=setTimeout(a,3e3));}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}};});var Ma=p((CE,Dh)=>{var Ih=y("os"),u1=ti(),Oa=fr()("winston:rejection"),l1=wa(),kh=ba(),f1=xa();Dh.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map;}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r);}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher));}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)));}getAllInfo(e){let{message:r}=e;return !r&&typeof e=="string"&&(r=e),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e.stack||"  No stack trace"].join(`
`),stack:e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return {pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return {loadavg:Ih.loadavg(),uptime:Ih.uptime()}}getTrace(e){return (e?kh.parse(e):kh.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new f1(e);this.handlers.set(e,r),this.logger.pipe(r);}}_unhandledRejection(e){let r=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,s;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function a(){Oa("doExit",i),Oa("process._exiting",process._exiting),i&&!process._exiting&&(s&&clearTimeout(s),process.exit(1));}if(!n||n.length===0)return process.nextTick(a);u1(n,(o,l)=>{let u=l1(l),f=o.transport||o;function h(d){return ()=>{Oa(d),u();}}f._ending=!0,f.once("finish",h("finished")),f.once("error",h("error"));},()=>i&&a()),this.logger.log(r),i&&(s=setTimeout(a,3e3));}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}};});var Uh=p((IE,$h)=>{$h.exports=class{constructor(e){if(!e)throw new Error("Logger is required for profiling.");this.logger=e,this.start=Date.now();}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};});var Vh=p((kE,Wh)=>{var{Stream:c1,Transform:h1}=qt(),Bh=ti(),{LEVEL:ge,SPLAT:Fh}=k(),jh=ya(),d1=Sa(),p1=Ma(),g1=Ks(),m1=Uh(),{warn:v1}=ws(),y1=Jn(),_1=/%[scdjifoO%]/g,ri=class extends h1{constructor(e){super({objectMode:!0}),this.configure(e);}child(e){let r=this;return Object.create(r,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),r.write(i);}}})}configure({silent:e,format:r,defaultMeta:n,levels:i,level:s="info",exitOnError:a=!0,transports:o,colors:l,emitErrs:u,formatters:f,padLevels:h,rewriters:d,stripColors:c,exceptionHandlers:g,rejectionHandlers:m}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||ds()(),this.defaultMeta=n||null,this.levels=i||this.levels||y1.npm.levels,this.level=s,this.exceptions=new d1(this),this.rejections=new p1(this),this.profilers={},this.exitOnError=a,o&&(o=Array.isArray(o)?o:[o],o.forEach(v=>this.add(v))),l||u||f||h||d||c)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));g&&this.exceptions.handle(g),m&&this.rejections.handle(m);}isLevelEnabled(e){let r=Ta(this.levels,e);if(r===null)return !1;let n=Ta(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(s=>{let a=Ta(this.levels,s.level);return a===null&&(a=n),a>=r})!==-1}log(e,r,...n){if(arguments.length===1)return e[ge]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[ge]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(this.write({[ge]:e,level:e,message:r}),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(r&&r.match&&r.match(_1))){let a=Object.assign({},this.defaultMeta,i,{[ge]:e,[Fh]:n,level:e,message:r});return i.message&&(a.message=`${a.message} ${i.message}`),i.stack&&(a.stack=i.stack),this.write(a),this}return this.write(Object.assign({},this.defaultMeta,{[ge]:e,[Fh]:n,level:e,message:r})),this}_transform(e,r,n){if(this.silent)return n();e[ge]||(e[ge]=e.level),!this.levels[e[ge]]&&this.levels[e[ge]]!==0&&console.error("[winston] Unknown logger level: %s",e[ge]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",e);try{this.push(this.format.transform(e,this.format.options));}catch(i){throw i}finally{n();}}_final(e){let r=this.transports.slice();Bh(r,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end();},e);}add(e){let r=!jh(e)||e.log.length>2?new g1({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return (!jh(e)||e.log.length>2)&&(r=this.transports.filter(n=>n.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.clear(),this.emit("close"),this}setLevels(){v1.deprecated("setLevels");}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function s(o,l){e.query&&typeof o.formatQuery=="function"&&(e.query=o.formatQuery(i)),o.query(e,(u,f)=>{if(u)return l(u);typeof o.formatResults=="function"&&(f=o.formatResults(f,e.format)),l(null,f);});}function a(o,l){s(o,(u,f)=>{l&&(f=u||f,f&&(n[o.name]=f),l()),l=null;});}Bh(this.transports.filter(o=>!!o.query),a,()=>r(null,n));}stream(e={}){let r=new c1,n=[];return r._streams=n,r.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy();},this.transports.filter(i=>!!i.stream).forEach(i=>{let s=i.stream(e);s&&(n.push(s),s.on("log",a=>{a.transport=a.transport||[],a.transport.push(i.name),r.emit("log",a);}),s.on("error",a=>{a.transport=a.transport||[],a.transport.push(i.name),r.emit("error",a);}));}),r}startTimer(){return new m1(this)}profile(e,...r){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let s=typeof r[r.length-1]=="object"?r.pop():{};return s.level=s.level||"info",s.durationMs=n-i,s.message=s.message||e,this.write(s)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e);}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e);}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function n(i){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,i,r);}r["__winston"+e]||(r["__winston"+e]=n.bind(this),r.on(e,r["__winston"+e]));}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta);}};function Ta(t,e){let r=t[e];return !r&&r!==0?null:r}Object.defineProperty(ri.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});Wh.exports=ri;});var qa=p((DE,zh)=>{var{LEVEL:w1}=k(),b1=Jn(),x1=Vh(),E1=fr()("winston:create-logger");function S1(t){return "is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}zh.exports=function(t={}){t.levels=t.levels||b1.npm.levels;class e extends x1{constructor(i){super(i);}}let r=new e(t);return Object.keys(t.levels).forEach(function(n){if(E1('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let s=this||r;if(i.length===1){let[a]=i,o=a&&a.message&&a||{message:a};return o.level=o[w1]=n,s._addDefaultMeta(o),s.write(o),this||r}return i.length===0?(s.log(n,""),s):s.log(n,...i)},e.prototype[S1(n)]=function(){return (this||r).isLevelEnabled(n)};}),r};});var Gh=p((UE,Hh)=>{var O1=qa();Hh.exports=class{constructor(e={}){this.loggers=new Map,this.options=e;}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;r.transports=n?n.slice():[];let i=O1(r);i.on("close",()=>this._delete(e)),this.loggers.set(e,i);}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return !!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,n)=>this._removeLogger(n));}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e);}_delete(e){this.loggers.delete(e);}};});var Jh=p(Kh=>{var Yh=_s(),{warn:Pt}=ws(),P=Kh;P.version=El().version;P.transports=xh();P.config=Jn();P.addColors=Yh.levels;P.format=Yh.format;P.createLogger=qa();P.ExceptionHandler=Sa();P.RejectionHandler=Ma();P.Container=Gh();P.Transport=nt();P.loggers=new P.Container;var Me=P.createLogger();Object.keys(P.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>P[t]=(...e)=>Me[t](...e));Object.defineProperty(P,"level",{get(){return Me.level},set(t){Me.level=t;}});Object.defineProperty(P,"exceptions",{get(){return Me.exceptions}});["exitOnError"].forEach(t=>{Object.defineProperty(P,t,{get(){return Me[t]},set(e){Me[t]=e;}});});Object.defineProperty(P,"default",{get(){return {exceptionHandlers:Me.exceptionHandlers,rejectionHandlers:Me.rejectionHandlers,transports:Me.transports}}});Pt.deprecated(P,"setLevels");Pt.forFunctions(P,"useFormat",["cli"]);Pt.forProperties(P,"useFormat",["padLevels","stripColors"]);Pt.forFunctions(P,"deprecated",["addRewriter","addFilter","clone","extend"]);Pt.forProperties(P,"deprecated",["emitErrs","levelLength"]);Pt.moved(P,"createLogger","Logger");});var Nt=p(me=>{var M1=me&&me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}});}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r];}),T1=me&&me.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),q1=me&&me.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&M1(e,t,r);return T1(e,t),e};Object.defineProperty(me,"__esModule",{value:!0});me.logger=void 0;var gr=q1(Jh()),Xh=process.env.NVIM_NODE_LOG_LEVEL||"debug";function A1(){let t=gr.createLogger({level:Xh});return process.env.NVIM_NODE_LOG_FILE&&t.add(new gr.transports.File({filename:process.env.NVIM_NODE_LOG_FILE,level:Xh})),process.env.ALLOW_CONSOLE&&t.add(new gr.transports.Console({format:gr.format.simple()})),!process.env.NVIM_NODE_LOG_FILE&&!process.env.ALLOW_CONSOLE&&t.add(new gr.transports.Console({silent:!0})),t}me.logger=A1();});var Lt=p(Ct=>{var Zh=Ct&&Ct.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s);})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f));}catch(h){a(h);}}function l(f){try{u(n.throw(f));}catch(h){a(h);}}function u(f){f.done?s(f.value):i(f.value).then(o,l);}u((n=n.apply(t,e||[])).next());})},Qh;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.BaseApi=void 0;var R1=y("events"),ed=Symbol("DO_REQUEST"),Aa=class extends R1.EventEmitter{constructor({transport:e,data:r,logger:n,metadata:i,client:s}){super(),this[Qh]=(a,o=[])=>new Promise((l,u)=>{this.transport.request(a,o,(f,h)=>{this.logger.debug(`response -> neovim.api.${a}: ${h}`),f?u(new Error(`${a}: ${f[1]}`)):l(h);});}),this.setTransport(e),this.data=r,this.logger=n||Nt().logger,this.client=s,i&&Object.defineProperty(this,"metadata",{value:i});}setTransport(e){this.transport=e;}equals(e){try{return String(this.data)===String(e.data)}catch{return !1}}asyncRequest(e,r=[],n){return Zh(this,void 0,void 0,function*(){return yield this._isReady,this.logger.debug(`request -> neovim.api.${e}`),this[ed](e,r).catch(i=>{let s=new Error(i.message);throw s.stack=n,this.logger.error(`Error making request to ${e}`,s),s})})}request(e,r=[]){let n=new Error(`Error making request to ${e}`);return this.asyncRequest(e,r,n.stack)}_getArgsByPrefix(...e){let r=[];return this.prefix!=="nvim_"&&r.push(this),r.concat(e)}getVar(e){return Zh(this,void 0,void 0,function*(){let r=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_var`,r).then(n=>n,n=>{if(n&&n.message&&n.message.includes("not found"))return null;throw n})})}setVar(e,r){let n=this._getArgsByPrefix(e,r);return this.request(`${this.prefix}set_var`,n)}deleteVar(e){let r=this._getArgsByPrefix(e);return this.request(`${this.prefix}del_var`,r)}getOption(e){let r=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_option`,r)}setOption(e,r){let n=this._getArgsByPrefix(e,r);return this.request(`${this.prefix}set_option`,n)}notify(e,r){this.logger.debug(`notify -> neovim.api.${e}`),this.transport.notify(e,r);}};Ct.BaseApi=Aa;Qh=ed;});var mr=p(X=>{var P1=X&&X.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s);})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f));}catch(h){a(h);}}function l(f){try{u(n.throw(f));}catch(h){a(h);}}function u(f){f.done?s(f.value):i(f.value).then(o,l);}u((n=n.apply(t,e||[])).next());})},rd,nd;Object.defineProperty(X,"__esModule",{value:!0});X.Buffer=X.ATTACH=X.DETACH=void 0;var N1=Lt(),td=vr();X.DETACH=Symbol("detachBuffer");X.ATTACH=Symbol("attachBuffer");var Ra=class extends N1.BaseApi{constructor(){super(...arguments),this.prefix=td.Metadata[td.ExtType.Buffer].prefix,this[rd]=(e=!1,r={})=>P1(this,void 0,void 0,function*(){return this.client.isAttached(this)?!0:this.request(`${this.prefix}attach`,[this,e,r])}),this[nd]=()=>this.request(`${this.prefix}detach`,[this]);}get isAttached(){return this.client.isAttached(this)}get id(){return this.data}get length(){return this.request(`${this.prefix}line_count`,[this])}get lines(){return this.getLines()}get changedtick(){return this.request(`${this.prefix}get_changedtick`,[this])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[this,e])}getLines({start:e,end:r,strictIndexing:n}={start:0,end:-1,strictIndexing:!0}){let i=typeof n>"u"?!0:n;return this.request(`${this.prefix}get_lines`,[this,e,r,i])}setLines(e,{start:r,end:n,strictIndexing:i}={strictIndexing:!0}){let s=typeof i>"u"?!0:i,a=typeof e=="string"?[e]:e,o=typeof n<"u"?n:r+1;return this.request(`${this.prefix}set_lines`,[this,r,o,s,a])}insert(e,r){return this.setLines(e,{start:r,end:r,strictIndexing:!0})}replace(e,r){let n=typeof e=="string"?[e]:e;return this.setLines(n,{start:r,end:r+n.length,strictIndexing:!1})}remove(e,r,n){return this.setLines([],{start:e,end:r,strictIndexing:n})}append(e){return this.setLines(e,{start:-1,end:-1,strictIndexing:!1})}get name(){return this.request(`${this.prefix}get_name`,[this])}set name(e){this.request(`${this.prefix}set_name`,[this,e]);}get valid(){return this.request(`${this.prefix}is_valid`,[this])}mark(e){return this.request(`${this.prefix}get_mark`,[this,e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[this,e])}get loaded(){return this.request(`${this.prefix}is_loaded`,[this])}getOffset(e){return this.request(`${this.prefix}get_offset`,[this,e])}addHighlight({hlGroup:e,line:r,colStart:n,colEnd:i,srcId:s}){let a=typeof e<"u"?e:"",o=typeof i<"u"?i:-1,l=typeof n<"u"?n:-0,u=typeof s<"u"?s:-1;return this.request(`${this.prefix}add_highlight`,[this,u,a,r,l,o])}clearHighlight(e={}){console.warn("`clearHighlight` is deprecated, use ``clearNamespace()` instead");let r={srcId:-1,lineStart:0,lineEnd:-1},{srcId:n,lineStart:i,lineEnd:s}=Object.assign(Object.assign({},r),e);return this.request(`${this.prefix}clear_highlight`,[this,n,i,s])}clearNamespace(e){let r={nsId:-1,lineStart:0,lineEnd:-1},{nsId:n,lineStart:i,lineEnd:s}=Object.assign(Object.assign({},r),e);this.request(`${this.prefix}clear_namespace`,[this,n,i,s]);}setVirtualText(e,r,n,i={}){return this.request(`${this.prefix}set_virtual_text`,[this,e,r,n,i])}listen(e,r){return this.isAttached||this[X.ATTACH]().then(n=>{n||this.unlisten(e,r);}),this.client.attachBuffer(this,e,r),()=>{this.unlisten(e,r);}}unlisten(e,r){!this.isAttached||!this.client.detachBuffer(this,e,r)||this[X.DETACH]();}};X.Buffer=Ra;rd=X.ATTACH,nd=X.DETACH;});var ii=p(ni=>{Object.defineProperty(ni,"__esModule",{value:!0});ni.createChainableApi=void 0;var yr=Lt(),C1=Object.getOwnPropertyNames(yr.BaseApi.prototype);function L1(t,e,r,n){if(this[`${t}Promise`]&&this[`${t}Promise`].status===0&&this[`${t}Proxy`])return this[`${t}Proxy`];this[`${t}Promise`]=r(),[...C1,...Object.getOwnPropertyNames(e.prototype)].forEach(s=>{Object.defineProperty(this[`${t}Promise`],s,{enumerable:!0,writable:!0,configurable:!0});});let i={get:(s,a)=>{let o=Object.prototype.hasOwnProperty.call(e.prototype,a)||Object.prototype.hasOwnProperty.call(yr.BaseApi.prototype,a),l=Object.getOwnPropertyDescriptor(e.prototype,a)||Object.getOwnPropertyDescriptor(yr.BaseApi.prototype,a),u=l&&(typeof l.get<"u"||typeof l.set<"u");return e&&o?o&&!u&&(a in e.prototype&&typeof e.prototype[a]=="function"||a in yr.BaseApi.prototype&&typeof yr.BaseApi.prototype[a]=="function")?(...f)=>this[`${t}Promise`].then(h=>h[a].call(h,...f)):n&&n()||this[`${t}Promise`].then(f=>f[a]):a in s?typeof s[a]=="function"?s[a].bind(s):s[a]:null},set:(s,a,o,l)=>(l&&(l instanceof Promise||"then"in l)?l.then(u=>{a in u&&(u[a]=o);}):s[a]=o,!0)};return this[`${t}Proxy`]=new Proxy(this[`${t}Promise`],i),this[`${t}Proxy`]}ni.createChainableApi=L1;});var _r=p(si=>{Object.defineProperty(si,"__esModule",{value:!0});si.Tabpage=void 0;var I1=Lt(),id=vr(),k1=ii(),D1=wr(),Pa=class extends I1.BaseApi{constructor(){super(...arguments),this.prefix=id.Metadata[id.ExtType.Tabpage].prefix;}get windows(){return this.request(`${this.prefix}list_wins`,[this])}get window(){return k1.createChainableApi.call(this,"Window",D1.Window,()=>this.request(`${this.prefix}get_win`,[this]))}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}getOption(){this.logger.error("Tabpage does not have `getOption`");}setOption(){this.logger.error("Tabpage does not have `setOption`");}};si.Tabpage=Pa;});var wr=p(ai=>{Object.defineProperty(ai,"__esModule",{value:!0});ai.Window=void 0;var $1=Lt(),sd=vr(),ad=ii(),U1=_r(),B1=mr(),Na=class extends $1.BaseApi{constructor(){super(...arguments),this.prefix=sd.Metadata[sd.ExtType.Window].prefix;}get id(){return this.data}get buffer(){return ad.createChainableApi.call(this,"Buffer",B1.Buffer,()=>this.request(`${this.prefix}get_buf`,[this]))}get tabpage(){return ad.createChainableApi.call(this,"Tabpage",U1.Tabpage,()=>this.request(`${this.prefix}get_tabpage`,[this]))}get cursor(){return this.request(`${this.prefix}get_cursor`,[this])}set cursor(e){this.request(`${this.prefix}set_cursor`,[this,e]);}get height(){return this.request(`${this.prefix}get_height`,[this])}set height(e){this.request(`${this.prefix}set_height`,[this,e]);}get width(){return this.request(`${this.prefix}get_width`,[this])}set width(e){this.request(`${this.prefix}set_width`,[this,e]);}get position(){return this.request(`${this.prefix}get_position`,[this])}get row(){return this.request(`${this.prefix}get_position`,[this]).then(e=>e[0])}get col(){return this.request(`${this.prefix}get_position`,[this]).then(e=>e[1])}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}close(e=!1){return this.request(`${this.prefix}close`,[this,e])}config(e={}){return this.request(`${this.prefix}set_config`,[this,e])}};ai.Window=Na;});var vr=p(ot=>{Object.defineProperty(ot,"__esModule",{value:!0});ot.Metadata=ot.ExtType=void 0;var F1=mr(),j1=wr(),W1=_r();(function(t){t[t.Buffer=0]="Buffer",t[t.Window=1]="Window",t[t.Tabpage=2]="Tabpage";})(ot.ExtType||(ot.ExtType={}));ot.Metadata=[{constructor:F1.Buffer,name:"Buffer",prefix:"nvim_buf_"},{constructor:j1.Window,name:"Window",prefix:"nvim_win_"},{constructor:W1.Tabpage,name:"Tabpage",prefix:"nvim_tabpage_"}];});var od=p(oi=>{Object.defineProperty(oi,"__esModule",{value:!0});oi.Transport=void 0;var z1=y("events"),It=(Uo(),po($o)),H1=vr(),Ca=class{constructor(e,r){this.encoder=e,this.requestId=r;}send(e,r){if(this.sent)throw new Error(`Response to id ${this.requestId} already sent`);let n=(0, It.encode)([1,this.requestId,r?e:null,r?null:e]);this.encoder.write(Buffer.from(n.buffer,n.byteOffset,n.byteLength)),this.sent=!0;}},La=class extends z1.EventEmitter{constructor(){super(...arguments),this.pending=new Map,this.nextRequestId=1,this.extensionCodec=this.initializeExtensionCodec();}initializeExtensionCodec(){let e=new It.ExtensionCodec;return H1.Metadata.forEach(({constructor:r},n)=>{e.register({type:n,encode:i=>i instanceof r?(0, It.encode)(i.data):null,decode:i=>new r({transport:this,client:this.client,data:(0, It.decode)(i)})});}),e}encodeToBuffer(e){let r=(0, It.encode)(e,{extensionCodec:this.extensionCodec});return Buffer.from(r.buffer,r.byteOffset,r.byteLength)}attach(e,r,n){this.writer=e,this.reader=r,this.client=n,this.reader.on("end",()=>{this.emit("detach");});let i=(0, It.decodeMultiStream)(this.reader,{extensionCodec:this.extensionCodec}),s=a=>{a.next().then(o=>o.done?Promise.resolve():(this.parseMessage(o.value),s(a)));};s(i);}request(e,r,n){this.nextRequestId=this.nextRequestId+1,this.writer.write(this.encodeToBuffer([0,this.nextRequestId,e,r])),this.pending.set(this.nextRequestId,n);}notify(e,r){this.writer.write(this.encodeToBuffer([2,e,r]));}parseMessage(e){let r=e[0];if(r===0)this.emit("request",e[2].toString(),e[3],new Ca(this.writer,e[1]));else if(r===1){let n=e[1],i=this.pending.get(n);this.pending.delete(n),i(e[2],e[3]);}else r===2?this.emit("notification",e[1].toString(),e[2]):this.writer.write(this.encodeToBuffer([1,0,"Invalid message type",null]));}};oi.Transport=La;});var li=p(ui=>{Object.defineProperty(ui,"__esModule",{value:!0});ui.Neovim=void 0;var G1=Lt(),Ia=ii(),ud=mr(),ld=_r(),fd=wr(),ka=class extends G1.BaseApi{constructor(){super(...arguments),this.prefix="nvim_",this.Buffer=ud.Buffer,this.Window=fd.Window,this.Tabpage=ld.Tabpage;}get apiInfo(){return this.request(`${this.prefix}get_api_info`)}get buffers(){return this.request(`${this.prefix}list_bufs`)}get buffer(){return Ia.createChainableApi.call(this,"Buffer",ud.Buffer,()=>this.request(`${this.prefix}get_current_buf`))}set buffer(e){this.request(`${this.prefix}set_current_buf`,[e]);}get chans(){return this.request(`${this.prefix}list_chans`)}getChanInfo(e){return this.request(`${this.prefix}get_chan_info`,[e])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[e])}get tabpages(){return this.request(`${this.prefix}list_tabpages`)}get tabpage(){return Ia.createChainableApi.call(this,"Tabpage",ld.Tabpage,()=>this.request(`${this.prefix}get_current_tabpage`))}set tabpage(e){this.request(`${this.prefix}set_current_tabpage`,[e]);}get windows(){return this.getWindows()}get window(){return this.getWindow()}set window(e){this.setWindow(e);}getWindows(){return this.request(`${this.prefix}list_wins`)}getWindow(){return Ia.createChainableApi.call(this,"Window",fd.Window,()=>this.request(`${this.prefix}get_current_win`))}setWindow(e){return this.request(`${this.prefix}set_current_win`,[e])}get runtimePaths(){return this.request(`${this.prefix}list_runtime_paths`)}set dir(e){this.request(`${this.prefix}set_current_dir`,[e]);}get line(){return this.getLine()}set line(e){typeof e=="string"&&this.setLine(e);}getLine(){return this.request(`${this.prefix}get_current_line`)}setLine(e){return this.request(`${this.prefix}set_current_line`,[e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[e])}get mode(){return this.request(`${this.prefix}get_mode`)}get colorMap(){return this.request(`${this.prefix}get_color_map`)}getColorByName(e){return this.request(`${this.prefix}get_color_by_name`,[e])}getHighlight(e,r=!0){let n=typeof e=="string"?"by_name":"by_id";return this.request(`${this.prefix}get_hl_${n}`,[e,r])}getHighlightByName(e,r=!0){return this.request(`${this.prefix}get_hl_by_name`,[e,r])}getHighlightById(e,r=!0){return this.request(`${this.prefix}get_hl_by_id`,[e,r])}deleteCurrentLine(){return this.request(`${this.prefix}del_current_line`)}eval(e){return this.request(`${this.prefix}eval`,[e])}lua(e,r=[]){let n=Array.isArray(r)?r:[r];return this.request(`${this.prefix}execute_lua`,[e,n])}executeLua(e,r=[]){return this.lua(e,r)}callDictFunction(e,r,n=[]){let i=Array.isArray(n)?n:[n];return this.request(`${this.prefix}call_dict_function`,[e,r,i])}call(e,r=[]){let n=Array.isArray(r)?r:[r];return this.request(`${this.prefix}call_function`,[e,n])}callFunction(e,r=[]){return this.call(e,r)}callAtomic(e){return this.request(`${this.prefix}call_atomic`,[e])}command(e){return this.request(`${this.prefix}command`,[e])}commandOutput(e){return this.request(`${this.prefix}command_output`,[e])}getVvar(e){return this.request(`${this.prefix}get_vvar`,[e])}setVvar(e,r){return this.request(`${this.prefix}set_vvar`,[e,r])}feedKeys(e,r,n){return this.request(`${this.prefix}feedkeys`,[e,r,n])}input(e){return this.request(`${this.prefix}input`,[e])}inputMouse(e,r,n,i,s,a){return this.request(`${this.prefix}input_mouse`,[e,r,n,i,s,a])}parseExpression(e,r,n){return this.request(`${this.prefix}parse_expression`,[e,r,n])}getProc(e){return this.request(`${this.prefix}get_proc`,[e])}getProcChildren(e){return this.request(`${this.prefix}get_proc_children`,[e])}replaceTermcodes(e,r,n,i){return this.request(`${this.prefix}replace_termcodes`,[e,r,n,i])}strWidth(e){return this.request(`${this.prefix}strwidth`,[e])}outWrite(e){return this.request(`${this.prefix}out_write`,[e])}outWriteLine(e){return this.outWrite(`${e}
`)}errWrite(e){return this.request(`${this.prefix}err_write`,[e])}errWriteLine(e){return this.request(`${this.prefix}err_writeln`,[e])}get uis(){return this.request(`${this.prefix}list_uis`)}uiAttach(e,r,n){return this.request(`${this.prefix}ui_attach`,[e,r,n])}uiDetach(){return this.request(`${this.prefix}ui_detach`,[])}uiTryResize(e,r){return this.request(`${this.prefix}ui_try_resize`,[e,r])}uiTryResizeGrid(e,r,n){return this.request(`${this.prefix}ui_try_resize_grid`,[e,r,n])}uiSetOption(e,r){return this.request(`${this.prefix}ui_set_option`,[e,r])}subscribe(e){return this.request(`${this.prefix}subscribe`,[e])}unsubscribe(e){return this.request(`${this.prefix}unsubscribe`,[e])}setClientInfo(e,r,n,i,s){this.request(`${this.prefix}set_client_info`,[e,r,n,i,s]);}createNamespace(e=""){return this.request(`${this.prefix}create_namespace`,[e])}get namespaces(){return this.getNamespaces()}getNamespaces(){return this.request(`${this.prefix}get_namespaces`)}selectPopupmenuItem(e,r,n,i={}){return this.request(`${this.prefix}select_popupmenu_item`,[e,r,n,i])}createBuf(e,r){return this.request(`${this.prefix}create_buf`,[e,r])}createBuffer(e,r){return this.createBuf(e,r)}openWin(e,r,n){return this.request(`${this.prefix}open_win`,[e,r,n])}openWindow(e,r,n){return this.openWin(e,r,n)}winConfig(e,r={}){return e.config(r)}windowConfig(e,r={}){return this.winConfig(e,r)}winClose(e,r){return e.close(r)}windowClose(e,r){return this.winClose(e,r)}quit(){this.command("qa!");}};ui.Neovim=ka;});var $a=p(kt=>{var cd=kt&&kt.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s);})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f));}catch(h){a(h);}}function l(f){try{u(n.throw(f));}catch(h){a(h);}}function u(f){f.done?s(f.value):i(f.value).then(o,l);}u((n=n.apply(t,e||[])).next());})};Object.defineProperty(kt,"__esModule",{value:!0});kt.NeovimClient=void 0;var Y1=od(),K1=li(),Da=class extends K1.Neovim{constructor(e={}){super({logger:e.logger}),this.attachedBuffers=new Map;let r=e.transport||new Y1.Transport;this.setTransport(r),this.requestQueue=[],this.transportAttached=!1,this.handleRequest=this.handleRequest.bind(this),this.handleNotification=this.handleNotification.bind(this);}attach({reader:e,writer:r}){this.transport.attach(r,e,this),this.transportAttached=!0,this.setupTransport();}get isApiReady(){return this.transportAttached&&typeof this._channelId<"u"}get channelId(){return (()=>cd(this,void 0,void 0,function*(){return yield this._isReady,this._channelId}))()}isAttached(e){let r=`${e.data}`;return this.attachedBuffers.has(r)}handleRequest(e,r,n,...i){this.logger.info("handleRequest: ",e),!this.isApiReady&&e!=="specs"?this.requestQueue.push({type:"request",args:[e,r,n,...i]}):this.emit("request",e,r,n);}emitNotification(e,r){if(e.endsWith("_event")){if(!e.startsWith("nvim_buf_")){this.logger.error("Unhandled event: ",e);return}let n=e.replace(/nvim_buf_(.*)_event/,"$1"),[i]=r,s=`${i.data}`;if(!this.attachedBuffers.has(s))return;(this.attachedBuffers.get(s).get(n)||[]).forEach(l=>l(...r)),n==="detach"&&this.attachedBuffers.delete(s);}else this.emit("notification",e,r);}handleNotification(e,r,...n){this.logger.info("handleNotification: ",e),this.isApiReady?this.emitNotification(e,r):this.requestQueue.push({type:"notification",args:[e,r,...n]});}setupTransport(){if(!this.transportAttached)throw new Error("Not attached to input/output");this.transport.on("request",this.handleRequest),this.transport.on("notification",this.handleNotification),this.transport.on("detach",()=>{this.emit("disconnect"),this.transport.removeAllListeners("request"),this.transport.removeAllListeners("notification"),this.transport.removeAllListeners("detach");}),this._isReady=this.generateApi();}requestApi(){return new Promise((e,r)=>{this.transport.request("nvim_get_api_info",[],(n,i)=>{n?r(n):e(i);});})}generateApi(){return cd(this,void 0,void 0,function*(){let e;try{e=yield this.requestApi();}catch(r){this.logger.error("Could not get vim api results"),this.logger.error(r);}if(e)try{let[r]=e;return this._channelId=r,this.requestQueue.forEach(n=>{n.type==="notification"?this.emitNotification(n.args[0],n.args[1]):this.emit(n.type,...n.args);}),this.requestQueue=[],!0}catch(r){return this.logger.error(`Could not dynamically generate neovim API: ${r}`,{error:r}),this.logger.error(r.stack),null}return null})}attachBuffer(e,r,n){let i=`${e.data}`;this.attachedBuffers.has(i)||this.attachedBuffers.set(i,new Map);let s=this.attachedBuffers.get(i);s.get(r)||s.set(r,[]);let a=s.get(r);return a.indexOf(n)!==-1||(a.push(n),s.set(r,a),this.attachedBuffers.set(i,s)),n}detachBuffer(e,r,n){let i=`${e.data}`,s=this.attachedBuffers.get(i);if(!s)return !1;let a=(s.get(r)||[]).filter(o=>o!==n);return a.length?s.set(r,a):s.delete(r),s.size?!1:(this.attachedBuffers.delete(i),!0)}};kt.NeovimClient=Da;});var hd=p(fi=>{Object.defineProperty(fi,"__esModule",{value:!0});fi.attach=void 0;var J1=y("net"),X1=$a();function Z1({reader:t,writer:e,proc:r,socket:n,options:i={}}){let s,a;if(n){let o=(0, J1.createConnection)(n);s=o,a=o;}else t&&e?(s=e,a=t):r&&(s=r.stdin,a=r.stdout);if(s&&a){let o=i.logger||Nt().logger,l=new X1.NeovimClient({logger:o});return l.attach({writer:s,reader:a}),l}throw new Error("Invalid arguments, could not attach")}fi.attach=Z1;});var dd=p(ci=>{Object.defineProperty(ci,"__esModule",{value:!0});ci.attach=void 0;var Q1=hd();Object.defineProperty(ci,"attach",{enumerable:!0,get:function(){return Q1.attach}});});var pd=p(ne=>{Object.defineProperty(ne,"__esModule",{value:!0});ne.Tabpage=ne.Window=ne.Buffer=ne.NeovimClient=ne.Neovim=void 0;var ew=li();Object.defineProperty(ne,"Neovim",{enumerable:!0,get:function(){return ew.Neovim}});var tw=$a();Object.defineProperty(ne,"NeovimClient",{enumerable:!0,get:function(){return tw.NeovimClient}});var rw=mr();Object.defineProperty(ne,"Buffer",{enumerable:!0,get:function(){return rw.Buffer}});var nw=wr();Object.defineProperty(ne,"Window",{enumerable:!0,get:function(){return nw.Window}});var iw=_r();Object.defineProperty(ne,"Tabpage",{enumerable:!0,get:function(){return iw.Tabpage}});});var br=p(ie=>{Object.defineProperty(ie,"__esModule",{value:!0});ie.NVIM_METHOD_NAME=ie.NVIM_SYNC=ie.NVIM_SPEC=ie.NVIM_DEV_MODE=ie.NVIM_PLUGIN=void 0;ie.NVIM_PLUGIN="_nvim_plugin";ie.NVIM_DEV_MODE="_nvim_dev_mode";ie.NVIM_SPEC="_nvim_rpc_spec";ie.NVIM_SYNC="_nvim_rpc_sync";ie.NVIM_METHOD_NAME="_nvim_rpc_method_name";});var di=p(Fe=>{var sw=Fe&&Fe.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s);})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f));}catch(h){a(h);}}function l(f){try{u(n.throw(f));}catch(h){a(h);}}function u(f){f.done?s(f.value):i(f.value).then(o,l);}u((n=n.apply(t,e||[])).next());})};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.NvimPlugin=Fe.callable=void 0;var ut=Nt();function hi(t){if(typeof t=="function")return t;if(Array.isArray(t)&&t.length===2)return function(...e){return t[1].apply(t[0],e)};throw new Error}Fe.callable=hi;var Ua=class{constructor(e,r,n){this.filename=e,this.nvim=n,this.dev=!1,this.alwaysInit=!1,this.autocmds={},this.commands={},this.functions={};try{this.instance=new r(this);}catch(i){if(i instanceof TypeError)this.instance=r(this);else throw i}}setOptions(e){this.dev=e.dev===void 0?this.dev:e.dev,this.alwaysInit=e.alwaysInit;}get shouldCacheModule(){return !this.dev}registerAutocmd(e,r,n){if(!n.pattern){ut.logger.error(`registerAutocmd expected pattern option for ${e}`);return}let i={type:"autocmd",name:e,sync:n&&!!n.sync,opts:{}};["pattern","eval"].forEach(s=>{n&&typeof n[s]<"u"&&(i.opts[s]=n[s]);});try{this.autocmds[`${e} ${n.pattern}`]={fn:hi(r),spec:i};}catch{ut.logger.error(`registerAutocmd expected callable argument for ${e}`);}}registerCommand(e,r,n){let i={type:"command",name:e,sync:n&&!!n.sync,opts:{}};["range","nargs","complete"].forEach(s=>{n&&typeof n[s]<"u"&&(i.opts[s]=n[s]);});try{this.commands[e]={fn:hi(r),spec:i};}catch{ut.logger.error(`registerCommand expected callable argument for ${e}`);}}registerFunction(e,r,n){let i={type:"function",name:e,sync:n&&!!n.sync,opts:{}};["range","eval"].forEach(s=>{n&&typeof n[s]<"u"&&(i.opts[s]=n[s]);});try{this.functions[e]={fn:hi(r),spec:i};}catch{ut.logger.error(`registerFunction expected callable argument for ${e}`);}}get specs(){let e=Object.keys(this.autocmds).map(i=>this.autocmds[i].spec),r=Object.keys(this.commands).map(i=>this.commands[i].spec),n=Object.keys(this.functions).map(i=>this.functions[i].spec);return e.concat(r).concat(n)}handleRequest(e,r,n){return sw(this,void 0,void 0,function*(){let i;switch(r){case"autocmd":i=this.autocmds;break;case"command":i=this.commands;break;case"function":i=this.functions;break;default:let s=`No handler for unknown type ${r}: "${e}" in ${this.filename}`;throw ut.logger.error(s),new Error(s)}if(i.hasOwnProperty(e)){let s=i[e];try{return s.spec.sync?s.fn(...n):yield s.fn(...n)}catch(a){let o=`Error in plugin for ${r}:${e}: ${a.message}`;throw ut.logger.error(`${o} (file: ${this.filename}, stack: ${a.stack})`),new Error(a)}}else {let s=`Missing handler for ${r}: "${e}" in ${this.filename}`;throw ut.logger.error(s),new Error(s)}})}};Fe.NvimPlugin=Ua;});var vd=p(je=>{Object.defineProperty(je,"__esModule",{value:!0});je.plugin=je.NvimPlugin=je.Neovim=void 0;var pi=Nt(),gd=br(),aw=li();Object.defineProperty(je,"Neovim",{enumerable:!0,get:function(){return aw.Neovim}});var ow=di();Object.defineProperty(je,"NvimPlugin",{enumerable:!0,get:function(){return ow.NvimPlugin}});function md(t,e){return pi.logger.info(`Decorating class ${t}`),class extends t{constructor(...r){let n=r[0];super(n.nvim,n),this.setApi(n.nvim),e&&n.setOptions(e),Object.getOwnPropertyNames(t.prototype).forEach(i=>{pi.logger.info(`Method name ${i}`),pi.logger.info(`${t.prototype[i]} ${typeof t.prototype[i]}`),pi.logger.info(`${this} ${typeof this}`);let s=t.prototype[i];if(s&&s[gd.NVIM_SPEC]){let a=s[gd.NVIM_SPEC];switch(a.type){case"autocmd":let o={pattern:a.opts.pattern,sync:a.sync};typeof a.opts.eval<"u"&&(o.eval=a.opts.eval),n.registerAutocmd(a.name,[this,s],o);break;case"command":let l={sync:a.sync};typeof a.opts.range<"u"&&(l.range=a.opts.range),typeof a.opts.nargs<"u"&&(l.nargs=a.opts.nargs),typeof a.opts.complete<"u"&&(l.complete=a.opts.complete),n.registerCommand(a.name,[this,s],l);break;case"function":let u={sync:a.sync};typeof a.opts.range<"u"&&(u.range=a.opts.range),typeof a.opts.eval<"u"&&(u.eval=a.opts.eval),n.registerFunction(a.name,[this,s],u);break;}}});}setApi(r){this.nvim=r;}}}function uw(t){return typeof t!="function"?e=>md(e,t):md(t)}je.plugin=uw;});var yd=p(gi=>{Object.defineProperty(gi,"__esModule",{value:!0});gi.nvimFunction=void 0;var Ba=br();function lw(t,e={}){return function(r,n){let i=e&&!!e.sync,s=typeof n=="string",a=s?r[n]:r,o={};return e&&e.range&&(o.range=e.range),e&&e.eval&&(o.eval=e.eval),Object.defineProperty(a,Ba.NVIM_METHOD_NAME,{value:`function:${t}`}),Object.defineProperty(a,Ba.NVIM_SYNC,{value:!!i}),Object.defineProperty(a,Ba.NVIM_SPEC,{value:{type:"function",name:t,sync:!!i,opts:o}}),s&&(r[n]=a),r}}gi.nvimFunction=lw;});var _d=p(mi=>{Object.defineProperty(mi,"__esModule",{value:!0});mi.autocmd=void 0;var Fa=br();function fw(t,e){return function(r,n){let i=e&&!!e.sync,s=typeof n=="string",a=s?r[n]:r,o={pattern:""};["pattern","eval"].forEach(u=>{e&&typeof e[u]<"u"&&(o[u]=e[u]);});let l=`${t}${e.pattern?`:${e.pattern}`:""}`;return Object.defineProperty(a,Fa.NVIM_METHOD_NAME,{value:`autocmd:${l}`}),Object.defineProperty(a,Fa.NVIM_SYNC,{value:!!i}),Object.defineProperty(a,Fa.NVIM_SPEC,{value:{type:"autocmd",name:t,sync:!!i,opts:o}}),s&&(r[n]=a),r}}mi.autocmd=fw;});var wd=p(vi=>{Object.defineProperty(vi,"__esModule",{value:!0});vi.command=void 0;var ja=br();function cw(t,e){return function(r,n){let i=e&&!!e.sync,s=typeof n=="string",a=s?r[n]:r,o={};return ["range","nargs","complete"].forEach(l=>{e&&typeof e[l]<"u"&&(o[l]=e[l]);}),Object.defineProperty(a,ja.NVIM_METHOD_NAME,{value:`command:${t}`}),Object.defineProperty(a,ja.NVIM_SYNC,{value:!!i}),Object.defineProperty(a,ja.NVIM_SPEC,{value:{type:"command",name:t,sync:!!i,opts:o}}),s&&(r[n]=a),r}}vi.command=cw;});var bd=p(ve=>{Object.defineProperty(ve,"__esModule",{value:!0});ve.Command=ve.Autocmd=ve.Function=ve.Plugin=void 0;var hw=vd();Object.defineProperty(ve,"Plugin",{enumerable:!0,get:function(){return hw.plugin}});var dw=yd();Object.defineProperty(ve,"Function",{enumerable:!0,get:function(){return dw.nvimFunction}});var pw=_d();Object.defineProperty(ve,"Autocmd",{enumerable:!0,get:function(){return pw.autocmd}});var gw=wd();Object.defineProperty(ve,"Command",{enumerable:!0,get:function(){return gw.command}});});var xd=p(ye=>{Object.defineProperty(ye,"__esModule",{value:!0});ye.Command=ye.Autocmd=ye.Function=ye.Plugin=void 0;var yi=bd();Object.defineProperty(ye,"Plugin",{enumerable:!0,get:function(){return yi.Plugin}});Object.defineProperty(ye,"Function",{enumerable:!0,get:function(){return yi.Function}});Object.defineProperty(ye,"Autocmd",{enumerable:!0,get:function(){return yi.Autocmd}});Object.defineProperty(ye,"Command",{enumerable:!0,get:function(){return yi.Command}});});var Ed=p(_e=>{var mw=_e&&_e.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}});}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r];}),vw=_e&&_e.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e});}:function(t,e){t.default=e;}),yw=_e&&_e.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mw(e,t,r);return vw(e,t),e};Object.defineProperty(_e,"__esModule",{value:!0});_e.loadPlugin=void 0;var _w=yw(y("path")),ww=y("module"),Wa=Nt(),bw=di();function xw(t,e,r={}){try{if(Wa.logger.debug(`createPlugin.${t}.clearCache: ${r&&!r.cache}`),r&&!r.cache)try{delete ww._cache[y.resolve(t)];}catch{}let n=y(t),i=n&&n.default||n;if(typeof i=="function")return new bw.NvimPlugin(t,i,e)}catch(n){let i=_w.basename(t);Wa.logger.error(`[${i}] ${n.stack}`),Wa.logger.error(`[${i}] Error loading child ChildPlugin ${t}`);}return null}function Ew(t,e,r={}){try{return xw(t,e,r)}catch{return null}}_e.loadPlugin=Ew;});var Sd=p(R=>{Object.defineProperty(R,"__esModule",{value:!0});R.loadPlugin=R.NvimPlugin=R.Command=R.Autocmd=R.Function=R.Plugin=R.Window=R.Tabpage=R.Buffer=R.NeovimClient=R.Neovim=R.attach=void 0;var Sw=dd();Object.defineProperty(R,"attach",{enumerable:!0,get:function(){return Sw.attach}});var xr=pd();Object.defineProperty(R,"Neovim",{enumerable:!0,get:function(){return xr.Neovim}});Object.defineProperty(R,"NeovimClient",{enumerable:!0,get:function(){return xr.NeovimClient}});Object.defineProperty(R,"Buffer",{enumerable:!0,get:function(){return xr.Buffer}});Object.defineProperty(R,"Tabpage",{enumerable:!0,get:function(){return xr.Tabpage}});Object.defineProperty(R,"Window",{enumerable:!0,get:function(){return xr.Window}});var _i=xd();Object.defineProperty(R,"Plugin",{enumerable:!0,get:function(){return _i.Plugin}});Object.defineProperty(R,"Function",{enumerable:!0,get:function(){return _i.Function}});Object.defineProperty(R,"Autocmd",{enumerable:!0,get:function(){return _i.Autocmd}});Object.defineProperty(R,"Command",{enumerable:!0,get:function(){return _i.Command}});var Ow=di();Object.defineProperty(R,"NvimPlugin",{enumerable:!0,get:function(){return Ow.NvimPlugin}});var Mw=Ed();Object.defineProperty(R,"loadPlugin",{enumerable:!0,get:function(){return Mw.loadPlugin}});});var qd=p((hS,Td)=>{var{Duplex:Tw}=y("stream");function Od(t){t.emit("close");}function qw(){!this.destroyed&&this._writableState.finished&&this.destroy();}function Md(t){this.removeListener("error",Md),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t);}function Aw(t,e){let r=!0,n=new Tw({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(s,a){let o=!a&&n._readableState.objectMode?s.toString():s;n.push(o)||t.pause();}),t.once("error",function(s){n.destroyed||(r=!1,n.destroy(s));}),t.once("close",function(){n.destroyed||n.push(null);}),n._destroy=function(i,s){if(t.readyState===t.CLOSED){s(i),process.nextTick(Od,n);return}let a=!1;t.once("error",function(l){a=!0,s(l);}),t.once("close",function(){a||s(i),process.nextTick(Od,n);}),r&&t.terminate();},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i);});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i();}),t.close()));},n._read=function(){t.isPaused&&t.resume();},n._write=function(i,s,a){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,s,a);});return}t.send(i,a);},n.on("end",qw),n.on("error",Md),n}Td.exports=Aw;});var We=p((dS,Ad)=>{Ad.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}};});var Er=p((pS,wi)=>{var{EMPTY_BUFFER:Rw}=We(),Va=Buffer[Symbol.species];function Pw(t,e){if(t.length===0)return Rw;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let s=t[i];r.set(s,n),n+=s.length;}return n<e?new Va(r.buffer,r.byteOffset,n):r}function Rd(t,e,r,n,i){for(let s=0;s<i;s++)r[n+s]=t[s]^e[s&3];}function Pd(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3];}function Nw(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function za(t){if(za.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Va(t):ArrayBuffer.isView(t)?e=new Va(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),za.readOnly=!1),e}wi.exports={concat:Pw,mask:Rd,toArrayBuffer:Nw,toBuffer:za,unmask:Pd};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=y("bufferutil");wi.exports.mask=function(e,r,n,i,s){s<48?Rd(e,r,n,i,s):t.mask(e,r,n,i,s);},wi.exports.unmask=function(e,r){e.length<32?Pd(e,r):t.unmask(e,r);};}catch{}});var Ld=p((gS,Cd)=>{var Nd=Symbol("kDone"),Ha=Symbol("kRun"),Ga=class{constructor(e){this[Nd]=()=>{this.pending--,this[Ha]();},this.concurrency=e||1/0,this.jobs=[],this.pending=0;}add(e){this.jobs.push(e),this[Ha]();}[Ha](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Nd]);}}};Cd.exports=Ga;});var Mr=p((mS,$d)=>{var Sr=y("zlib"),Id=Er(),Cw=Ld(),{kStatusCode:kd}=We(),Lw=Buffer[Symbol.species],Iw=Buffer.from([0,0,255,255]),Ei=Symbol("permessage-deflate"),Te=Symbol("total-length"),Or=Symbol("callback"),Ve=Symbol("buffers"),xi=Symbol("error"),bi,Ya=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!bi){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;bi=new Cw(i);}}static get extensionName(){return "permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Or];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"));}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=s;}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let s=+i;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=s;}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i;});}),e}decompress(e,r,n){bi.add(i=>{this._decompress(e,r,(s,a)=>{i(),n(s,a);});});}compress(e,r,n){bi.add(i=>{this._compress(e,r,(s,a)=>{i(),n(s,a);});});}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let s=`${i}_max_window_bits`,a=typeof this.params[s]!="number"?Sr.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Sr.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[Ei]=this,this._inflate[Te]=0,this._inflate[Ve]=[],this._inflate.on("error",Dw),this._inflate.on("data",Dd);}this._inflate[Or]=n,this._inflate.write(e),r&&this._inflate.write(Iw),this._inflate.flush(()=>{let s=this._inflate[xi];if(s){this._inflate.close(),this._inflate=null,n(s);return}let a=Id.concat(this._inflate[Ve],this._inflate[Te]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Te]=0,this._inflate[Ve]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,a);});}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let s=`${i}_max_window_bits`,a=typeof this.params[s]!="number"?Sr.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Sr.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[Te]=0,this._deflate[Ve]=[],this._deflate.on("data",kw);}this._deflate[Or]=n,this._deflate.write(e),this._deflate.flush(Sr.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Id.concat(this._deflate[Ve],this._deflate[Te]);r&&(s=new Lw(s.buffer,s.byteOffset,s.length-4)),this._deflate[Or]=null,this._deflate[Te]=0,this._deflate[Ve]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,s);});}};$d.exports=Ya;function kw(t){this[Ve].push(t),this[Te]+=t.length;}function Dd(t){if(this[Te]+=t.length,this[Ei]._maxPayload<1||this[Te]<=this[Ei]._maxPayload){this[Ve].push(t);return}this[xi]=new RangeError("Max payload size exceeded"),this[xi].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[xi][kd]=1009,this.removeListener("data",Dd),this.reset();}function Dw(t){this[Ei]._inflate=null,t[kd]=1007,this[Or](t);}});var Tr=p((vS,Si)=>{var{isUtf8:Ud}=y("buffer"),$w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Uw(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Ka(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return !1;r+=2;}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return !1;r+=3;}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return !1;r+=4;}else return !1;return !0}Si.exports={isValidStatusCode:Uw,isValidUTF8:Ka,tokenChars:$w};if(Ud)Si.exports.isValidUTF8=function(t){return t.length<24?Ka(t):Ud(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=y("utf-8-validate");Si.exports.isValidUTF8=function(e){return e.length<32?Ka(e):t(e)};}catch{}});var Qa=p((yS,Hd)=>{var{Writable:Bw}=y("stream"),Bd=Mr(),{BINARY_TYPES:Fw,EMPTY_BUFFER:Fd,kStatusCode:jw,kWebSocket:Ww}=We(),{concat:Ja,toArrayBuffer:Vw,unmask:zw}=Er(),{isValidStatusCode:Hw,isValidUTF8:jd}=Tr(),Oi=Buffer[Symbol.species],qr=0,Wd=1,Vd=2,zd=3,Xa=4,Gw=5,Za=class extends Bw{constructor(e={}){super(),this._binaryType=e.binaryType||Fw[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Ww]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=qr,this._loop=!1;}_write(e,r,n){if(this._opcode===8&&this._state==qr)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n);}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Oi(n.buffer,n.byteOffset+e,n.length-e),new Oi(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new Oi(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length;}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case qr:r=this.getInfo();break;case Wd:r=this.getPayloadLength16();break;case Vd:r=this.getPayloadLength64();break;case zd:this.getMask();break;case Xa:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r);}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,$(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[Bd.extensionName])return this._loop=!1,$(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,$(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,$(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented;}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,$(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r;}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,$(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,$(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,$(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,$(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,$(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,$(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Wd;else if(this._payloadLength===127)this._state=Vd;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,$(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,$(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=zd:this._state=Xa;}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Xa;}getData(e){let r=Fd;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&zw(r,this._mask);}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=Gw,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[Bd.extensionName].decompress(e,this._fin,(i,s)=>{if(i)return r(i);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r($(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s);}let a=this.dataMessage();if(a)return r(a);this.startLoop(r);});}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=Ja(r,e):this._binaryType==="arraybuffer"?n=Vw(Ja(r,e)):n=r,this.emit("message",n,!0);}else {let n=Ja(r,e);if(!this._skipUTF8Validation&&!jd(n))return this._loop=!1,$(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1);}}this._state=qr;}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Fd),this.end();else {let r=e.readUInt16BE(0);if(!Hw(r))return $(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=new Oi(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!jd(n))return $(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end();}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=qr;}};Hd.exports=Za;function $(t,e,r,n,i){let s=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,$),s.code=i,s[jw]=n,s}});var to=p((bS,Kd)=>{y("net");y("tls");var {randomFillSync:Yw}=y("crypto"),Gd=Mr(),{EMPTY_BUFFER:Kw}=We(),{isValidStatusCode:Jw}=Tr(),{mask:Yd,toBuffer:Dt}=Er(),le=Symbol("kByteLength"),Xw=Buffer.alloc(4),eo=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[];}static frame(e,r){let n,i=!1,s=2,a=!1;r.mask&&(n=r.maskBuffer||Xw,r.generateMask?r.generateMask(n):Yw(n,0,4),a=(n[0]|n[1]|n[2]|n[3])===0,s=6);let o;typeof e=="string"?(!r.mask||a)&&r[le]!==void 0?o=r[le]:(e=Buffer.from(e),o=e.length):(o=e.length,i=r.mask&&r.readOnly&&!a);let l=o;o>=65536?(s+=8,l=127):o>125&&(s+=2,l=126);let u=Buffer.allocUnsafe(i?o+s:s);return u[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(u[0]|=64),u[1]=l,l===126?u.writeUInt16BE(o,2):l===127&&(u[2]=u[3]=0,u.writeUIntBE(o,4,6)),r.mask?(u[1]|=128,u[s-4]=n[0],u[s-3]=n[1],u[s-2]=n[2],u[s-1]=n[3],a?[u,e]:i?(Yd(e,n,u,s,o),[u]):(Yd(e,n,e,0,o),[u,e])):[u,e]}close(e,r,n,i){let s;if(e===void 0)s=Kw;else {if(typeof e!="number"||!Jw(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else {let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+o),s.writeUInt16BE(e,0),typeof r=="string"?s.write(r,2):s.set(r,2);}}let a={[le]:s.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,a,i]):this.sendFrame(t.frame(s,a),i);}ping(e,r,n){let i,s;if(typeof e=="string"?(i=Buffer.byteLength(e),s=!1):(e=Dt(e),i=e.length,s=Dt.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[le]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,n]):this.sendFrame(t.frame(e,a),n);}pong(e,r,n){let i,s;if(typeof e=="string"?(i=Buffer.byteLength(e),s=!1):(e=Dt(e),i=e.length,s=Dt.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[le]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,n]):this.sendFrame(t.frame(e,a),n);}send(e,r,n){let i=this._extensions[Gd.extensionName],s=r.binary?2:1,a=r.compress,o,l;if(typeof e=="string"?(o=Buffer.byteLength(e),l=!1):(e=Dt(e),o=e.length,l=Dt.readOnly),this._firstFragment?(this._firstFragment=!1,a&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=o>=i._threshold),this._compress=a):(a=!1,s=0),r.fin&&(this._firstFragment=!0),i){let u={[le]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:a};this._deflating?this.enqueue([this.dispatch,e,this._compress,u,n]):this.dispatch(e,this._compress,u,n);}else this.sendFrame(t.frame(e,{[le]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:!1}),n);}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let s=this._extensions[Gd.extensionName];this._bufferedBytes+=n[le],this._deflating=!0,s.compress(e,n.fin,(a,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(l);for(let u=0;u<this._queue.length;u++){let f=this._queue[u],h=f[f.length-1];typeof h=="function"&&h(l);}return}this._bufferedBytes-=n[le],this._deflating=!1,n.readOnly=!1,this.sendFrame(t.frame(o,n),i),this.dequeue();});}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][le],Reflect.apply(e[0],this,e.slice(1));}}enqueue(e){this._bufferedBytes+=e[3][le],this._queue.push(e);}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r);}};Kd.exports=eo;});var ip=p((xS,np)=>{var{kForOnEventAttribute:Ar,kListener:ro}=We(),Jd=Symbol("kCode"),Xd=Symbol("kData"),Zd=Symbol("kError"),Qd=Symbol("kMessage"),ep=Symbol("kReason"),$t=Symbol("kTarget"),tp=Symbol("kType"),rp=Symbol("kWasClean"),qe=class{constructor(e){this[$t]=null,this[tp]=e;}get target(){return this[$t]}get type(){return this[tp]}};Object.defineProperty(qe.prototype,"target",{enumerable:!0});Object.defineProperty(qe.prototype,"type",{enumerable:!0});var lt=class extends qe{constructor(e,r={}){super(e),this[Jd]=r.code===void 0?0:r.code,this[ep]=r.reason===void 0?"":r.reason,this[rp]=r.wasClean===void 0?!1:r.wasClean;}get code(){return this[Jd]}get reason(){return this[ep]}get wasClean(){return this[rp]}};Object.defineProperty(lt.prototype,"code",{enumerable:!0});Object.defineProperty(lt.prototype,"reason",{enumerable:!0});Object.defineProperty(lt.prototype,"wasClean",{enumerable:!0});var Ut=class extends qe{constructor(e,r={}){super(e),this[Zd]=r.error===void 0?null:r.error,this[Qd]=r.message===void 0?"":r.message;}get error(){return this[Zd]}get message(){return this[Qd]}};Object.defineProperty(Ut.prototype,"error",{enumerable:!0});Object.defineProperty(Ut.prototype,"message",{enumerable:!0});var Rr=class extends qe{constructor(e,r={}){super(e),this[Xd]=r.data===void 0?null:r.data;}get data(){return this[Xd]}};Object.defineProperty(Rr.prototype,"data",{enumerable:!0});var Zw={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[Ar]&&i[ro]===e&&!i[Ar])return;let n;if(t==="message")n=function(s,a){let o=new Rr("message",{data:a?s:s.toString()});o[$t]=this,Mi(e,this,o);};else if(t==="close")n=function(s,a){let o=new lt("close",{code:s,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[$t]=this,Mi(e,this,o);};else if(t==="error")n=function(s){let a=new Ut("error",{error:s,message:s.message});a[$t]=this,Mi(e,this,a);};else if(t==="open")n=function(){let s=new qe("open");s[$t]=this,Mi(e,this,s);};else return;n[Ar]=!!r[Ar],n[ro]=e,r.once?this.once(t,n):this.on(t,n);},removeEventListener(t,e){for(let r of this.listeners(t))if(r[ro]===e&&!r[Ar]){this.removeListener(t,r);break}}};np.exports={CloseEvent:lt,ErrorEvent:Ut,Event:qe,EventTarget:Zw,MessageEvent:Rr};function Mi(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r);}});var no=p((ES,sp)=>{var{tokenChars:Pr}=Tr();function we(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r);}function Qw(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,s=!1,a,o,l=-1,u=-1,f=-1,h=0;for(;h<t.length;h++)if(u=t.charCodeAt(h),a===void 0)if(f===-1&&Pr[u]===1)l===-1&&(l=h);else if(h!==0&&(u===32||u===9))f===-1&&l!==-1&&(f=h);else if(u===59||u===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);f===-1&&(f=h);let c=t.slice(l,f);u===44?(we(e,c,r),r=Object.create(null)):a=c,l=f=-1;}else throw new SyntaxError(`Unexpected character at index ${h}`);else if(o===void 0)if(f===-1&&Pr[u]===1)l===-1&&(l=h);else if(u===32||u===9)f===-1&&l!==-1&&(f=h);else if(u===59||u===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);f===-1&&(f=h),we(r,t.slice(l,f),!0),u===44&&(we(e,a,r),r=Object.create(null),a=void 0),l=f=-1;}else if(u===61&&l!==-1&&f===-1)o=t.slice(l,h),l=f=-1;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(i){if(Pr[u]!==1)throw new SyntaxError(`Unexpected character at index ${h}`);l===-1?l=h:n||(n=!0),i=!1;}else if(s)if(Pr[u]===1)l===-1&&(l=h);else if(u===34&&l!==-1)s=!1,f=h;else if(u===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${h}`);else if(u===34&&t.charCodeAt(h-1)===61)s=!0;else if(f===-1&&Pr[u]===1)l===-1&&(l=h);else if(l!==-1&&(u===32||u===9))f===-1&&(f=h);else if(u===59||u===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${h}`);f===-1&&(f=h);let c=t.slice(l,f);n&&(c=c.replace(/\\/g,""),n=!1),we(r,o,c),u===44&&(we(e,a,r),r=Object.create(null),a=void 0),o=void 0,l=f=-1;}else throw new SyntaxError(`Unexpected character at index ${h}`);if(l===-1||s||u===32||u===9)throw new SyntaxError("Unexpected end of input");f===-1&&(f=h);let d=t.slice(l,f);return a===void 0?we(e,d,r):(o===void 0?we(r,d,!0):n?we(r,o,d.replace(/\\/g,"")):we(r,o,d),we(e,a,r)),e}function eb(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let s=n[i];return Array.isArray(s)||(s=[s]),s.map(a=>a===!0?i:`${i}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}sp.exports={format:eb,parse:Qw};});var uo=p((OS,mp)=>{var tb=y("events"),rb=y("https"),nb=y("http"),up=y("net"),ib=y("tls"),{randomBytes:sb,createHash:ab}=y("crypto");y("stream");var {URL:io}=y("url"),ze=Mr(),ob=Qa(),ub=to(),{BINARY_TYPES:ap,EMPTY_BUFFER:Ti,GUID:lb,kForOnEventAttribute:so,kListener:fb,kStatusCode:cb,kWebSocket:V,NOOP:lp}=We(),{EventTarget:{addEventListener:hb,removeEventListener:db}}=ip(),{format:pb,parse:gb}=no(),{toBuffer:mb}=Er(),vb=30*1e3,fp=Symbol("kAborted"),ao=[8,13],Ae=["CONNECTING","OPEN","CLOSING","CLOSED"],yb=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,I=class t extends tb{constructor(e,r,n){super(),this._binaryType=ap[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Ti,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),cp(this,e,r,n)):this._isServer=!0;}get binaryType(){return this._binaryType}set binaryType(e){ap.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e));}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new ob({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new ub(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[V]=this,e[V]=this,i.on("conclude",bb),i.on("drain",xb),i.on("error",Eb),i.on("message",Sb),i.on("ping",Ob),i.on("pong",Mb),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",dp),e.on("data",Ai),e.on("end",pp),e.on("error",gp),this._readyState=t.OPEN,this.emit("open");}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[ze.extensionName]&&this._extensions[ze.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let n="WebSocket was closed before the connection was established";ee(this,this._req,n);return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end());}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),vb);}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause());}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){oo(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Ti,r,n);}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){oo(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Ti,r,n);}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume());}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){oo(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[ze.extensionName]||(i.compress=!1),this._sender.send(e||Ti,i,n);}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let e="WebSocket was closed before the connection was established";ee(this,this._req,e);return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy());}}};Object.defineProperty(I,"CONNECTING",{enumerable:!0,value:Ae.indexOf("CONNECTING")});Object.defineProperty(I.prototype,"CONNECTING",{enumerable:!0,value:Ae.indexOf("CONNECTING")});Object.defineProperty(I,"OPEN",{enumerable:!0,value:Ae.indexOf("OPEN")});Object.defineProperty(I.prototype,"OPEN",{enumerable:!0,value:Ae.indexOf("OPEN")});Object.defineProperty(I,"CLOSING",{enumerable:!0,value:Ae.indexOf("CLOSING")});Object.defineProperty(I.prototype,"CLOSING",{enumerable:!0,value:Ae.indexOf("CLOSING")});Object.defineProperty(I,"CLOSED",{enumerable:!0,value:Ae.indexOf("CLOSED")});Object.defineProperty(I.prototype,"CLOSED",{enumerable:!0,value:Ae.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(I.prototype,t,{enumerable:!0});});["open","error","close","message"].forEach(t=>{Object.defineProperty(I.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[so])return e[fb];return null},set(e){for(let r of this.listeners(t))if(r[so]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[so]:!0});}});});I.prototype.addEventListener=hb;I.prototype.removeEventListener=db;mp.exports=I;function cp(t,e,r,n){let i={protocolVersion:ao[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!ao.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${ao.join(", ")})`);let s;if(e instanceof io)s=e,t._url=e.href;else {try{s=new io(e);}catch{throw new SyntaxError(`Invalid URL: ${e}`)}t._url=e;}let a=s.protocol==="wss:",o=s.protocol==="ws+unix:",l;if(s.protocol!=="ws:"&&!a&&!o?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:o&&!s.pathname?l="The URL's pathname is empty":s.hash&&(l="The URL contains a fragment identifier"),l){let m=new SyntaxError(l);if(t._redirects===0)throw m;qi(t,m);return}let u=a?443:80,f=sb(16).toString("base64"),h=a?rb.request:nb.request,d=new Set,c;if(i.createConnection=a?wb:_b,i.defaultPort=i.defaultPort||u,i.port=s.port||u,i.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":f,Connection:"Upgrade",Upgrade:"websocket"},i.path=s.pathname+s.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(c=new ze(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=pb({[ze.extensionName]:c.offer()})),r.length){for(let m of r){if(typeof m!="string"||!yb.test(m)||d.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");d.add(m);}i.headers["Sec-WebSocket-Protocol"]=r.join(",");}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(s.username||s.password)&&(i.auth=`${s.username}:${s.password}`),o){let m=i.path.split(":");i.socketPath=m[0],i.path=m[1];}let g;if(i.followRedirects){if(t._redirects===0){t._originalIpc=o,t._originalSecure=a,t._originalHostOrSocketPath=o?i.socketPath:s.host;let m=n&&n.headers;if(n={...n,headers:{}},m)for(let[v,b]of Object.entries(m))n.headers[v.toLowerCase()]=b;}else if(t.listenerCount("redirect")===0){let m=o?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:s.host===t._originalHostOrSocketPath;(!m||t._originalSecure&&!a)&&(delete i.headers.authorization,delete i.headers.cookie,m||delete i.headers.host,i.auth=void 0);}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),g=t._req=h(i),t._redirects&&t.emit("redirect",t.url,g);}else g=t._req=h(i);i.timeout&&g.on("timeout",()=>{ee(t,g,"Opening handshake has timed out");}),g.on("error",m=>{g===null||g[fp]||(g=t._req=null,qi(t,m));}),g.on("response",m=>{let v=m.headers.location,b=m.statusCode;if(v&&i.followRedirects&&b>=300&&b<400){if(++t._redirects>i.maxRedirects){ee(t,g,"Maximum redirects exceeded");return}g.abort();let w;try{w=new io(v,e);}catch{let E=new SyntaxError(`Invalid URL: ${v}`);qi(t,E);return}cp(t,w,r,n);}else t.emit("unexpected-response",g,m)||ee(t,g,`Unexpected server response: ${m.statusCode}`);}),g.on("upgrade",(m,v,b)=>{if(t.emit("upgrade",m),t.readyState!==I.CONNECTING)return;if(g=t._req=null,m.headers.upgrade.toLowerCase()!=="websocket"){ee(t,v,"Invalid Upgrade header");return}let w=ab("sha1").update(f+lb).digest("base64");if(m.headers["sec-websocket-accept"]!==w){ee(t,v,"Invalid Sec-WebSocket-Accept header");return}let x=m.headers["sec-websocket-protocol"],E;if(x!==void 0?d.size?d.has(x)||(E="Server sent an invalid subprotocol"):E="Server sent a subprotocol but none was requested":d.size&&(E="Server sent no subprotocol"),E){ee(t,v,E);return}x&&(t._protocol=x);let M=m.headers["sec-websocket-extensions"];if(M!==void 0){if(!c){ee(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let A;try{A=gb(M);}catch{ee(t,v,"Invalid Sec-WebSocket-Extensions header");return}let N=Object.keys(A);if(N.length!==1||N[0]!==ze.extensionName){ee(t,v,"Server indicated an extension that was not requested");return}try{c.accept(A[ze.extensionName]);}catch{ee(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[ze.extensionName]=c;}t.setSocket(v,b,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});}),i.finishRequest?i.finishRequest(g,t):g.end();}function qi(t,e){t._readyState=I.CLOSING,t.emit("error",e),t.emitClose();}function _b(t){return t.path=t.socketPath,up.connect(t)}function wb(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=up.isIP(t.host)?"":t.host),ib.connect(t)}function ee(t,e,r){t._readyState=I.CLOSING;let n=new Error(r);Error.captureStackTrace(n,ee),e.setHeader?(e[fp]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(qi,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)));}function oo(t,e,r){if(e){let n=mb(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n;}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Ae[t.readyState]})`);process.nextTick(r,n);}}function bb(t,e){let r=this[V];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[V]!==void 0&&(r._socket.removeListener("data",Ai),process.nextTick(hp,r._socket),t===1005?r.close():r.close(t,e));}function xb(){let t=this[V];t.isPaused||t._socket.resume();}function Eb(t){let e=this[V];e._socket[V]!==void 0&&(e._socket.removeListener("data",Ai),process.nextTick(hp,e._socket),e.close(t[cb])),e.emit("error",t);}function op(){this[V].emitClose();}function Sb(t,e){this[V].emit("message",t,e);}function Ob(t){let e=this[V];e.pong(t,!e._isServer,lp),e.emit("ping",t);}function Mb(t){this[V].emit("pong",t);}function hp(t){t.resume();}function dp(){let t=this[V];this.removeListener("close",dp),this.removeListener("data",Ai),this.removeListener("end",pp),t._readyState=I.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[V]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",op),t._receiver.on("finish",op));}function Ai(t){this[V]._receiver.write(t)||this.pause();}function pp(){let t=this[V];t._readyState=I.CLOSING,t._receiver.end(),this.end();}function gp(){let t=this[V];this.removeListener("error",gp),this.on("error",lp),t&&(t._readyState=I.CLOSING,this.destroy());}});var yp=p((MS,vp)=>{var{tokenChars:Tb}=Tr();function qb(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let a=t.charCodeAt(i);if(n===-1&&Tb[a]===1)r===-1&&(r=i);else if(i!==0&&(a===32||a===9))n===-1&&r!==-1&&(n=i);else if(a===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let o=t.slice(r,n);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),r=n=-1;}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let s=t.slice(r,i);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}vp.exports={parse:qb};});var Op=p((RS,Sp)=>{var Ab=y("events"),Ri=y("http");y("https");y("net");y("tls");var {createHash:Rb}=y("crypto"),_p=no(),ft=Mr(),Pb=yp(),Nb=uo(),{GUID:Cb,kWebSocket:Lb}=We(),Ib=/^[+/0-9A-Za-z]{22}==$/,wp=0,bp=1,Ep=2,lo=class extends Ab{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Nb,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Ri.createServer((n,i)=>{let s=Ri.STATUS_CODES[426];i.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),i.end(s);}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=kb(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,s,a)=>{this.handleUpgrade(i,s,a,n);}});}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=wp;}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Ep){e&&this.once("close",()=>{e(new Error("The server is not running"));}),process.nextTick(Nr,this);return}if(e&&this.once("close",e),this._state!==bp)if(this._state=bp,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Nr,this):process.nextTick(Nr,this);else {let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Nr(this);});}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return !1}return !0}handleUpgrade(e,r,n,i){r.on("error",xp);let s=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){ct(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){ct(this,e,r,400,"Invalid Upgrade header");return}if(!s||!Ib.test(s)){ct(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){ct(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Cr(r,400);return}let o=e.headers["sec-websocket-protocol"],l=new Set;if(o!==void 0)try{l=Pb.parse(o);}catch{ct(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&u!==void 0){let h=new ft(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=_p.parse(u);d[ft.extensionName]&&(h.accept(d[ft.extensionName]),f[ft.extensionName]=h);}catch{ct(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(d,c,g,m)=>{if(!d)return Cr(r,c||401,g,m);this.completeUpgrade(f,s,l,e,r,n,i);});return}if(!this.options.verifyClient(h))return Cr(r,401)}this.completeUpgrade(f,s,l,e,r,n,i);}completeUpgrade(e,r,n,i,s,a,o){if(!s.readable||!s.writable)return s.destroy();if(s[Lb])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>wp)return Cr(s,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Rb("sha1").update(r+Cb).digest("base64")}`],f=new this.options.WebSocket(null);if(n.size){let h=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;h&&(u.push(`Sec-WebSocket-Protocol: ${h}`),f._protocol=h);}if(e[ft.extensionName]){let h=e[ft.extensionName].params,d=_p.format({[ft.extensionName]:[h]});u.push(`Sec-WebSocket-Extensions: ${d}`),f._extensions=e;}this.emit("headers",u,i),s.write(u.concat(`\r
`).join(`\r
`)),s.removeListener("error",xp),f.setSocket(s,a,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Nr,this);})),o(f,i);}};Sp.exports=lo;function kb(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n]);}}function Nr(t){t._state=Ep,t.emit("close");}function xp(){this.destroy();}function Cr(t,e,r,n){r=r||Ri.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Ri.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r);}function ct(t,e,r,n,i){if(t.listenerCount("wsClientError")){let s=new Error(i);Error.captureStackTrace(s,ct),t.emit("wsClientError",s,r,e);}else Cr(r,n,i);}});var qp=ht(Sd());ht(qd(),1);ht(Qa(),1);ht(to(),1);ht(uo(),1);var fo=ht(Op(),1);var Mp=["ghost-text-change","ghost-buffer-delete"];function Tp(t,e){let r=http.createServer((i,s)=>{s.writeHead(200,{"Content-Type":"application/json"}).end(JSON.stringify({ProtocolVersion:1,WebSocketPort:e}));});new fo.default({server:r}).on("connection",async(i,s)=>{let a=null;for(let o of Mp)await t.subscribe(o);t.on("notification",async(o,[l])=>{if(o==="ghost-text-change"){let u=(await a?.lines)?.join(`
`)??"";i.send(JSON.stringify({text:u}));}o==="ghost-buffer-delete"&&i.close();}),i.on("close",async()=>{a=null;for(let o of Mp)await t.unsubscribe(o);}),i.on("message",async o=>{let l=JSON.parse(String(o));a||(a=await t.createBuffer(!0,!0),a.name=l.url+".ghost-text",t.buffer=a);let u=l.text.split(`
`);await a.setLines(u,{start:0,end:-1,strictIndexing:!0});});}),r.listen(e);}var jb=process.argv[2];async function Wb(t){try{return await fetch(`http://localhost:${t}`),!0}catch{return !1}}async function Vb(){let t=(0, qp.attach)({socket:jb}),e=Number(await t.getVar("ghost_text_port"));await Wb(e)||Tp(t,e);}Vb();
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
